{"ast":null,"code":"var _jsxFileName = \"E:\\\\full_stack\\\\project\\\\weatherapp\\\\frontend\\\\src\\\\components\\\\Employee\\\\EmployeeMessageCenter.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Send, Search, User, Filter, Zap, AlertCircle, CheckCircle, Clock, CloudRain, TrendingUp, MessageSquare, Info, Star } from 'lucide-react';\nimport { messageAPI } from '../../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageCenterContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n`;\n_c = MessageCenterContainer;\nconst Card = styled.div`\n  background: white;\n  border-radius: 16px;\n  padding: 25px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\n  border: 1px solid #f0f0f0;\n`;\n_c2 = Card;\nconst CardTitle = styled.h3`\n  color: #333;\n  margin-bottom: 20px;\n  font-size: 1.3rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n_c3 = CardTitle;\nconst FormGroup = styled.div`\n  margin-bottom: 20px;\n`;\n_c4 = FormGroup;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 8px;\n  color: #555;\n  font-weight: 500;\n  font-size: 0.9rem;\n`;\n_c5 = Label;\nconst Input = styled.input`\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid #e1e5e9;\n  border-radius: 12px;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  \n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n`;\n_c6 = Input;\nconst Select = styled.select`\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid #e1e5e9;\n  border-radius: 12px;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  background: white;\n  cursor: pointer;\n  \n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n`;\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid #e1e5e9;\n  border-radius: 12px;\n  font-size: 1rem;\n  min-height: 120px;\n  resize: vertical;\n  transition: all 0.3s ease;\n  box-sizing: border-box;\n  font-family: inherit;\n  \n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n`;\n_c7 = TextArea;\nconst SearchContainer = styled.div`\n  position: relative;\n`;\n_c8 = SearchContainer;\nconst SearchResults = styled.div`\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 2px solid #e1e5e9;\n  border-top: none;\n  border-radius: 0 0 12px 12px;\n  max-height: 200px;\n  overflow-y: auto;\n  z-index: 100;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n`;\n_c9 = SearchResults;\nconst SearchResultItem = styled.div`\n  padding: 12px 16px;\n  cursor: pointer;\n  transition: background 0.2s ease;\n  border-bottom: 1px solid #f0f0f0;\n  \n  &:hover {\n    background: #f8f9fa;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n`;\n_c0 = SearchResultItem;\nconst Button = styled.button`\n  background: ${props => props.variant === 'primary' ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : props.variant === 'success' ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)' : '#f8f9fa'};\n  color: ${props => props.variant === 'primary' || props.variant === 'success' ? 'white' : '#333'};\n  border: ${props => props.variant === 'primary' || props.variant === 'success' ? 'none' : '2px solid #e1e5e9'};\n  padding: 12px 24px;\n  border-radius: 12px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.3s ease;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c1 = Button;\nconst CheckboxContainer = styled.label`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  color: #555;\n`;\n_c10 = CheckboxContainer;\nconst Checkbox = styled.input`\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n`;\n_c11 = Checkbox;\nconst CategoryGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: 10px;\n  margin-top: 10px;\n`;\n_c12 = CategoryGrid;\nconst CategoryButton = styled.button`\n  padding: 12px;\n  border: 2px solid ${props => props.selected ? '#667eea' : '#e1e5e9'};\n  background: ${props => props.selected ? '#f0f4ff' : 'white'};\n  color: ${props => props.selected ? '#667eea' : '#666'};\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  \n  &:hover {\n    border-color: #667eea;\n    background: #f0f4ff;\n  }\n`;\n_c13 = CategoryButton;\nconst getCategoryIcon = category => {\n  switch (category) {\n    case 'performance':\n      return /*#__PURE__*/_jsxDEV(TrendingUp, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 32\n      }, this);\n    case 'attendance':\n      return /*#__PURE__*/_jsxDEV(Clock, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 31\n      }, this);\n    case 'meeting':\n      return /*#__PURE__*/_jsxDEV(MessageSquare, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 28\n      }, this);\n    case 'weather':\n      return /*#__PURE__*/_jsxDEV(CloudRain, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 28\n      }, this);\n    case 'suggestion':\n      return /*#__PURE__*/_jsxDEV(Info, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 31\n      }, this);\n    default:\n      return /*#__PURE__*/_jsxDEV(MessageSquare, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }, this);\n  }\n};\nconst categoryLabels = {\n  performance: 'Performance Report',\n  attendance: 'Attendance Alert',\n  meeting: 'Meeting Reminder',\n  weather: 'Weather Alert',\n  suggestion: 'Suggestion',\n  info: 'General Info'\n};\nfunction EmployeeMessageCenter() {\n  _s();\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [employeeSearch, setEmployeeSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [category, setCategory] = useState('info');\n  const [title, setTitle] = useState('');\n  const [message, setMessage] = useState('');\n  const [important, setImportant] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isGeneratingAlerts, setIsGeneratingAlerts] = useState(false);\n  useEffect(() => {\n    if (employeeSearch.length >= 2) {\n      const timer = setTimeout(async () => {\n        try {\n          const results = await messageAPI.searchEmployees(employeeSearch);\n          setSearchResults(results);\n        } catch (error) {\n          console.error('Search error:', error);\n          setSearchResults([]);\n        }\n      }, 300);\n      return () => clearTimeout(timer);\n    } else {\n      setSearchResults([]);\n    }\n  }, [employeeSearch]);\n  const handleEmployeeSelect = employee => {\n    setSelectedEmployee(employee);\n    setEmployeeSearch(employee.name);\n    setSearchResults([]);\n  };\n  const handleSendMessage = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault(); // Prevent any form submission\n\n    console.log('ðŸ“¤ Send message button clicked');\n    console.log('ðŸ“‹ Form data:', {\n      selectedEmployee,\n      category,\n      title,\n      message,\n      important\n    });\n    if (!selectedEmployee || !category || !title || !message) {\n      console.warn('âŒ Missing required fields');\n      toast.error('Please fill in all required fields');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      console.log('ðŸ“¨ Sending message to API...');\n      const response = await messageAPI.create({\n        employeeId: selectedEmployee._id,\n        category,\n        title,\n        message,\n        important\n      });\n      console.log('âœ… Message sent successfully:', response);\n      toast.success('Message sent successfully!');\n      setTitle('');\n      setMessage('');\n      setSelectedEmployee(null);\n      setEmployeeSearch('');\n      setImportant(false);\n    } catch (error) {\n      console.error('âŒ Error sending message:', error);\n      console.error('Error details:', error.message || error);\n      const errorMessage = error.message || 'Failed to send message';\n      toast.error(errorMessage);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleGenerateAlerts = async () => {\n    setIsGeneratingAlerts(true);\n    try {\n      const result = await messageAPI.generateAlerts();\n      toast.success(`Generated ${result.alerts.length} automated alerts!`);\n    } catch (error) {\n      toast.error(error.message || 'Failed to generate alerts');\n    } finally {\n      setIsGeneratingAlerts(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MessageCenterContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        children: [/*#__PURE__*/_jsxDEV(Send, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), \"Send Message to Employee\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Employee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchContainer, {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            placeholder: \"Search by name, email, or ID...\",\n            value: employeeSearch,\n            onChange: e => setEmployeeSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(SearchResults, {\n            children: searchResults.map(emp => /*#__PURE__*/_jsxDEV(SearchResultItem, {\n              onClick: () => handleEmployeeSelect(emp),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '10px'\n                },\n                children: [emp.avatar && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: emp.avatar,\n                  alt: emp.name,\n                  style: {\n                    width: '30px',\n                    height: '30px',\n                    borderRadius: '50%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 600\n                    },\n                    children: emp.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '0.8rem',\n                      color: '#666'\n                    },\n                    children: emp.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this)\n            }, emp._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), selectedEmployee && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px',\n            padding: '10px',\n            background: '#f0f4ff',\n            borderRadius: '8px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 500\n            },\n            children: [\"Selected: \", selectedEmployee.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CategoryGrid, {\n          children: Object.entries(categoryLabels).map(([key, label]) => /*#__PURE__*/_jsxDEV(CategoryButton, {\n            selected: category === key,\n            onClick: () => setCategory(key),\n            children: [getCategoryIcon(key), label]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          placeholder: \"Enter message title...\",\n          value: title,\n          onChange: e => setTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n          placeholder: \"Enter your message...\",\n          value: message,\n          onChange: e => setMessage(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: /*#__PURE__*/_jsxDEV(CheckboxContainer, {\n          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n            type: \"checkbox\",\n            checked: important,\n            onChange: e => setImportant(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Star, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), \"Mark as Important\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        variant: \"primary\",\n        onClick: handleSendMessage,\n        disabled: isSubmitting || !selectedEmployee,\n        children: [/*#__PURE__*/_jsxDEV(Send, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), isSubmitting ? 'Sending...' : 'Send Message']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), \"Automated Alerts\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#666',\n          marginBottom: '20px'\n        },\n        children: \"Generate automated alerts for attendance, weather, and other conditions based on employee data.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        onClick: handleGenerateAlerts,\n        disabled: isGeneratingAlerts,\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), isGeneratingAlerts ? 'Generating...' : 'Generate Automated Alerts']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeMessageCenter, \"juE84Eu1U7N54pT91rSttgBipUw=\");\n_c14 = EmployeeMessageCenter;\nexport default EmployeeMessageCenter;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"MessageCenterContainer\");\n$RefreshReg$(_c2, \"Card\");\n$RefreshReg$(_c3, \"CardTitle\");\n$RefreshReg$(_c4, \"FormGroup\");\n$RefreshReg$(_c5, \"Label\");\n$RefreshReg$(_c6, \"Input\");\n$RefreshReg$(_c7, \"TextArea\");\n$RefreshReg$(_c8, \"SearchContainer\");\n$RefreshReg$(_c9, \"SearchResults\");\n$RefreshReg$(_c0, \"SearchResultItem\");\n$RefreshReg$(_c1, \"Button\");\n$RefreshReg$(_c10, \"CheckboxContainer\");\n$RefreshReg$(_c11, \"Checkbox\");\n$RefreshReg$(_c12, \"CategoryGrid\");\n$RefreshReg$(_c13, \"CategoryButton\");\n$RefreshReg$(_c14, \"EmployeeMessageCenter\");","map":{"version":3,"names":["React","useState","useEffect","styled","Send","Search","User","Filter","Zap","AlertCircle","CheckCircle","Clock","CloudRain","TrendingUp","MessageSquare","Info","Star","messageAPI","toast","jsxDEV","_jsxDEV","MessageCenterContainer","div","_c","Card","_c2","CardTitle","h3","_c3","FormGroup","_c4","Label","label","_c5","Input","input","_c6","Select","select","TextArea","textarea","_c7","SearchContainer","_c8","SearchResults","_c9","SearchResultItem","_c0","Button","button","props","variant","_c1","CheckboxContainer","_c10","Checkbox","_c11","CategoryGrid","_c12","CategoryButton","selected","_c13","getCategoryIcon","category","size","fileName","_jsxFileName","lineNumber","columnNumber","categoryLabels","performance","attendance","meeting","weather","suggestion","info","EmployeeMessageCenter","_s","selectedEmployee","setSelectedEmployee","employeeSearch","setEmployeeSearch","searchResults","setSearchResults","setCategory","title","setTitle","message","setMessage","important","setImportant","isSubmitting","setIsSubmitting","isGeneratingAlerts","setIsGeneratingAlerts","length","timer","setTimeout","results","searchEmployees","error","console","clearTimeout","handleEmployeeSelect","employee","name","handleSendMessage","e","preventDefault","log","warn","response","create","employeeId","_id","success","errorMessage","handleGenerateAlerts","result","generateAlerts","alerts","children","type","placeholder","value","onChange","target","map","emp","onClick","style","display","alignItems","gap","avatar","src","alt","width","height","borderRadius","fontWeight","fontSize","color","email","marginTop","padding","background","Object","entries","key","checked","disabled","marginBottom","_c14","$RefreshReg$"],"sources":["E:/full_stack/project/weatherapp/frontend/src/components/Employee/EmployeeMessageCenter.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Send, Search, User, Filter, Zap, AlertCircle, CheckCircle, Clock, CloudRain, TrendingUp, MessageSquare, Info, Star } from 'lucide-react';\r\nimport { messageAPI } from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst MessageCenterContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 30px;\r\n`;\r\n\r\nconst Card = styled.div`\r\n  background: white;\r\n  border-radius: 16px;\r\n  padding: 25px;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\r\n  border: 1px solid #f0f0f0;\r\n`;\r\n\r\nconst CardTitle = styled.h3`\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: #555;\r\n  font-weight: 500;\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 2px solid #e1e5e9;\r\n  border-radius: 12px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 2px solid #e1e5e9;\r\n  border-radius: 12px;\r\n  font-size: 1rem;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  background: white;\r\n  cursor: pointer;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 2px solid #e1e5e9;\r\n  border-radius: 12px;\r\n  font-size: 1rem;\r\n  min-height: 120px;\r\n  resize: vertical;\r\n  transition: all 0.3s ease;\r\n  box-sizing: border-box;\r\n  font-family: inherit;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n  }\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst SearchResults = styled.div`\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background: white;\r\n  border: 2px solid #e1e5e9;\r\n  border-top: none;\r\n  border-radius: 0 0 12px 12px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  z-index: 100;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst SearchResultItem = styled.div`\r\n  padding: 12px 16px;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  \r\n  &:hover {\r\n    background: #f8f9fa;\r\n  }\r\n  \r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: ${props => props.variant === 'primary' \r\n    ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' \r\n    : props.variant === 'success'\r\n    ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)'\r\n    : '#f8f9fa'};\r\n  color: ${props => props.variant === 'primary' || props.variant === 'success' ? 'white' : '#333'};\r\n  border: ${props => props.variant === 'primary' || props.variant === 'success' ? 'none' : '2px solid #e1e5e9'};\r\n  padding: 12px 24px;\r\n  border-radius: 12px;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover:not(:disabled) {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst CheckboxContainer = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  color: #555;\r\n`;\r\n\r\nconst Checkbox = styled.input`\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst CategoryGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst CategoryButton = styled.button`\r\n  padding: 12px;\r\n  border: 2px solid ${props => props.selected ? '#667eea' : '#e1e5e9'};\r\n  background: ${props => props.selected ? '#f0f4ff' : 'white'};\r\n  color: ${props => props.selected ? '#667eea' : '#666'};\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  \r\n  &:hover {\r\n    border-color: #667eea;\r\n    background: #f0f4ff;\r\n  }\r\n`;\r\n\r\nconst getCategoryIcon = (category) => {\r\n  switch (category) {\r\n    case 'performance': return <TrendingUp size={18} />;\r\n    case 'attendance': return <Clock size={18} />;\r\n    case 'meeting': return <MessageSquare size={18} />;\r\n    case 'weather': return <CloudRain size={18} />;\r\n    case 'suggestion': return <Info size={18} />;\r\n    default: return <MessageSquare size={18} />;\r\n  }\r\n};\r\n\r\nconst categoryLabels = {\r\n  performance: 'Performance Report',\r\n  attendance: 'Attendance Alert',\r\n  meeting: 'Meeting Reminder',\r\n  weather: 'Weather Alert',\r\n  suggestion: 'Suggestion',\r\n  info: 'General Info'\r\n};\r\n\r\nfunction EmployeeMessageCenter() {\r\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\r\n  const [employeeSearch, setEmployeeSearch] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [category, setCategory] = useState('info');\r\n  const [title, setTitle] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [important, setImportant] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isGeneratingAlerts, setIsGeneratingAlerts] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (employeeSearch.length >= 2) {\r\n      const timer = setTimeout(async () => {\r\n        try {\r\n          const results = await messageAPI.searchEmployees(employeeSearch);\r\n          setSearchResults(results);\r\n        } catch (error) {\r\n          console.error('Search error:', error);\r\n          setSearchResults([]);\r\n        }\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    } else {\r\n      setSearchResults([]);\r\n    }\r\n  }, [employeeSearch]);\r\n\r\n  const handleEmployeeSelect = (employee) => {\r\n    setSelectedEmployee(employee);\r\n    setEmployeeSearch(employee.name);\r\n    setSearchResults([]);\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e?.preventDefault(); // Prevent any form submission\r\n    \r\n    console.log('ðŸ“¤ Send message button clicked');\r\n    console.log('ðŸ“‹ Form data:', { selectedEmployee, category, title, message, important });\r\n    \r\n    if (!selectedEmployee || !category || !title || !message) {\r\n      console.warn('âŒ Missing required fields');\r\n      toast.error('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      console.log('ðŸ“¨ Sending message to API...');\r\n      const response = await messageAPI.create({\r\n        employeeId: selectedEmployee._id,\r\n        category,\r\n        title,\r\n        message,\r\n        important\r\n      });\r\n      console.log('âœ… Message sent successfully:', response);\r\n      toast.success('Message sent successfully!');\r\n      setTitle('');\r\n      setMessage('');\r\n      setSelectedEmployee(null);\r\n      setEmployeeSearch('');\r\n      setImportant(false);\r\n    } catch (error) {\r\n      console.error('âŒ Error sending message:', error);\r\n      console.error('Error details:', error.message || error);\r\n      const errorMessage = error.message || 'Failed to send message';\r\n      toast.error(errorMessage);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateAlerts = async () => {\r\n    setIsGeneratingAlerts(true);\r\n    try {\r\n      const result = await messageAPI.generateAlerts();\r\n      toast.success(`Generated ${result.alerts.length} automated alerts!`);\r\n    } catch (error) {\r\n      toast.error(error.message || 'Failed to generate alerts');\r\n    } finally {\r\n      setIsGeneratingAlerts(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MessageCenterContainer>\r\n      <Card>\r\n        <CardTitle>\r\n          <Send size={24} />\r\n          Send Message to Employee\r\n        </CardTitle>\r\n        \r\n        <FormGroup>\r\n          <Label>Employee</Label>\r\n          <SearchContainer>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Search by name, email, or ID...\"\r\n              value={employeeSearch}\r\n              onChange={(e) => setEmployeeSearch(e.target.value)}\r\n            />\r\n            {searchResults.length > 0 && (\r\n              <SearchResults>\r\n                {searchResults.map((emp) => (\r\n                  <SearchResultItem\r\n                    key={emp._id}\r\n                    onClick={() => handleEmployeeSelect(emp)}\r\n                  >\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                      {emp.avatar && (\r\n                        <img src={emp.avatar} alt={emp.name} style={{ width: '30px', height: '30px', borderRadius: '50%' }} />\r\n                      )}\r\n                      <div>\r\n                        <div style={{ fontWeight: 600 }}>{emp.name}</div>\r\n                        <div style={{ fontSize: '0.8rem', color: '#666' }}>{emp.email}</div>\r\n                      </div>\r\n                    </div>\r\n                  </SearchResultItem>\r\n                ))}\r\n              </SearchResults>\r\n            )}\r\n          </SearchContainer>\r\n          {selectedEmployee && (\r\n            <div style={{ marginTop: '10px', padding: '10px', background: '#f0f4ff', borderRadius: '8px', display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n              <User size={20} />\r\n              <span style={{ fontWeight: 500 }}>Selected: {selectedEmployee.name}</span>\r\n            </div>\r\n          )}\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Category</Label>\r\n          <CategoryGrid>\r\n            {Object.entries(categoryLabels).map(([key, label]) => (\r\n              <CategoryButton\r\n                key={key}\r\n                selected={category === key}\r\n                onClick={() => setCategory(key)}\r\n              >\r\n                {getCategoryIcon(key)}\r\n                {label}\r\n              </CategoryButton>\r\n            ))}\r\n          </CategoryGrid>\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Title</Label>\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Enter message title...\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label>Message</Label>\r\n          <TextArea\r\n            placeholder=\"Enter your message...\"\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <CheckboxContainer>\r\n            <Checkbox\r\n              type=\"checkbox\"\r\n              checked={important}\r\n              onChange={(e) => setImportant(e.target.checked)}\r\n            />\r\n            <Star size={16} />\r\n            Mark as Important\r\n          </CheckboxContainer>\r\n        </FormGroup>\r\n\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"primary\"\r\n          onClick={handleSendMessage}\r\n          disabled={isSubmitting || !selectedEmployee}\r\n        >\r\n          <Send size={20} />\r\n          {isSubmitting ? 'Sending...' : 'Send Message'}\r\n        </Button>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardTitle>\r\n          <Zap size={24} />\r\n          Automated Alerts\r\n        </CardTitle>\r\n        <p style={{ color: '#666', marginBottom: '20px' }}>\r\n          Generate automated alerts for attendance, weather, and other conditions based on employee data.\r\n        </p>\r\n        <Button\r\n          variant=\"success\"\r\n          onClick={handleGenerateAlerts}\r\n          disabled={isGeneratingAlerts}\r\n        >\r\n          <Zap size={20} />\r\n          {isGeneratingAlerts ? 'Generating...' : 'Generate Automated Alerts'}\r\n        </Button>\r\n      </Card>\r\n    </MessageCenterContainer>\r\n  );\r\n}\r\n\r\nexport default EmployeeMessageCenter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}