{"ast":null,"code":"var _jsxFileName = \"E:\\\\full_stack\\\\project\\\\weatherapp\\\\frontend\\\\src\\\\components\\\\Traveler\\\\TripWeatherAlerts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Bell, X, Check, Trash2, MapPin, Calendar, CloudSun, XCircle } from 'lucide-react';\nimport { getAlerts, markAlertAsRead, markAllAlertsAsRead, deleteAlert, deleteAllAlerts, getUnreadAlertsCount } from '../../services/tripAlertService';\nimport { getWeatherIcon } from '../../services/weatherService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationBell = styled.button`\n  position: relative;\n  background: transparent;\n  border: none;\n  color: #333;\n  cursor: pointer;\n  padding: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: rgba(0, 0, 0, 0.05);\n  }\n`;\n_c = NotificationBell;\nconst Badge = styled.span`\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  background: #ff6b6b;\n  color: white;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.7rem;\n  font-weight: 700;\n  border: 2px solid white;\n`;\n_c2 = Badge;\nconst AlertsDropdown = styled.div`\n  position: absolute;\n  top: calc(100% + 10px);\n  right: 0;\n  background: white;\n  border-radius: 16px;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);\n  width: 400px;\n  max-height: 600px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  z-index: 1000;\n  \n  @media (max-width: 768px) {\n    width: 350px;\n    right: -50px;\n  }\n  \n  @media (max-width: 480px) {\n    width: calc(100vw - 40px);\n    right: -100px;\n  }\n`;\n_c3 = AlertsDropdown;\nconst AlertsHeader = styled.div`\n  padding: 20px;\n  border-bottom: 1px solid #e1e5e9;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  background: white;\n  border-radius: 16px 16px 0 0;\n  z-index: 10;\n`;\n_c4 = AlertsHeader;\nconst AlertsTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 1.2rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n_c5 = AlertsTitle;\nconst HeaderActions = styled.div`\n  display: flex;\n  gap: 10px;\n`;\n_c6 = HeaderActions;\nconst ActionButton = styled.button`\n  background: none;\n  border: none;\n  color: #667eea;\n  cursor: pointer;\n  padding: 5px 10px;\n  border-radius: 6px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #f0f0f0;\n  }\n`;\n_c7 = ActionButton;\nconst AlertsList = styled.div`\n  padding: 10px;\n  overflow-y: auto;\n  flex: 1;\n`;\n_c8 = AlertsList;\nconst AlertItem = styled.div`\n  background: ${props => props.read ? '#f8f9fa' : '#fff7ed'};\n  border: 1px solid ${props => props.read ? '#e1e5e9' : '#fed7aa'};\n  border-radius: 12px;\n  padding: 15px;\n  margin-bottom: 10px;\n  transition: all 0.3s ease;\n  position: relative;\n  \n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n  }\n`;\n_c9 = AlertItem;\nconst AlertHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 10px;\n`;\n_c0 = AlertHeader;\nconst AlertDestination = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #333;\n  font-weight: 600;\n  font-size: 1rem;\n`;\n_c1 = AlertDestination;\nconst AlertActions = styled.div`\n  display: flex;\n  gap: 5px;\n`;\n_c10 = AlertActions;\nconst AlertIconButton = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 4px;\n  color: #666;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: rgba(0, 0, 0, 0.1);\n    color: #333;\n  }\n`;\n_c11 = AlertIconButton;\nconst AlertSummary = styled.div`\n  color: #666;\n  font-size: 0.95rem;\n  line-height: 1.5;\n  margin-bottom: 10px;\n`;\n_c12 = AlertSummary;\nconst AlertDetails = styled.div`\n  display: flex;\n  gap: 15px;\n  font-size: 0.85rem;\n  color: #999;\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid ${props => props.read ? '#e1e5e9' : '#fed7aa'};\n`;\n_c13 = AlertDetails;\nconst AlertDetailItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n`;\n_c14 = AlertDetailItem;\nconst WeatherInfo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-top: 10px;\n  padding: 10px;\n  background: rgba(255, 255, 255, 0.5);\n  border-radius: 8px;\n`;\n_c15 = WeatherInfo;\nconst WeatherTemp = styled.div`\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: #667eea;\n`;\n_c16 = WeatherTemp;\nconst WeatherCondition = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  font-size: 0.9rem;\n  color: #666;\n`;\n_c17 = WeatherCondition;\nconst EmptyState = styled.div`\n  padding: 60px 20px;\n  text-align: center;\n  color: #999;\n`;\n_c18 = EmptyState;\nconst UnreadBadge = styled.span`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: #ff6b6b;\n  color: white;\n  border-radius: 50%;\n  width: 12px;\n  height: 12px;\n`;\n_c19 = UnreadBadge;\nfunction TripWeatherAlerts() {\n  _s();\n  const [alerts, setAlerts] = useState([]);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const dropdownRef = React.useRef(null);\n  useEffect(() => {\n    loadAlerts();\n    // Check for alerts immediately on mount\n    checkAlerts();\n\n    // Check for new alerts every 30 minutes (runs even when tab is not active)\n    const interval = setInterval(() => {\n      checkAlerts();\n    }, 30 * 60 * 1000); // 30 minutes\n\n    // Also check daily at midnight (check every hour and see if date changed)\n    const dailyCheckInterval = setInterval(() => {\n      const now = new Date();\n      if (now.getHours() === 0 && now.getMinutes() < 5) {\n        checkAlerts();\n      }\n    }, 60 * 60 * 1000); // Every hour\n\n    return () => {\n      clearInterval(interval);\n      clearInterval(dailyCheckInterval);\n    };\n  }, []);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n    if (showDropdown) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showDropdown]);\n  const loadAlerts = async () => {\n    try {\n      const allAlerts = await getAlerts();\n      setAlerts(allAlerts);\n      const count = await getUnreadAlertsCount();\n      setUnreadCount(count);\n    } catch (error) {\n      console.error('Error loading alerts:', error);\n    }\n  };\n  const checkAlerts = async () => {\n    const {\n      checkUpcomingTrips\n    } = await import('../../services/tripAlertService');\n    await checkUpcomingTrips();\n    loadAlerts();\n  };\n  const handleMarkAsRead = async alertId => {\n    await markAlertAsRead(alertId);\n    await loadAlerts();\n  };\n  const handleMarkAllAsRead = async () => {\n    await markAllAlertsAsRead();\n    await loadAlerts();\n  };\n  const handleDelete = async alertId => {\n    await deleteAlert(alertId);\n    await loadAlerts();\n  };\n  const handleDeleteAll = async () => {\n    if (window.confirm('Are you sure you want to delete all alerts?')) {\n      await deleteAllAlerts();\n      await loadAlerts();\n    }\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    ref: dropdownRef,\n    children: [/*#__PURE__*/_jsxDEV(NotificationBell, {\n      onClick: () => setShowDropdown(!showDropdown),\n      children: [/*#__PURE__*/_jsxDEV(Bell, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n        children: unreadCount > 9 ? '9+' : unreadCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), showDropdown && /*#__PURE__*/_jsxDEV(AlertsDropdown, {\n      children: [/*#__PURE__*/_jsxDEV(AlertsHeader, {\n        children: [/*#__PURE__*/_jsxDEV(AlertsTitle, {\n          children: [/*#__PURE__*/_jsxDEV(Bell, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), \"Trip Weather Alerts\", unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '0.85rem',\n              color: '#667eea',\n              fontWeight: 'normal'\n            },\n            children: [\"(\", unreadCount, \" new)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(HeaderActions, {\n          children: [alerts.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [unreadCount > 0 && /*#__PURE__*/_jsxDEV(ActionButton, {\n              onClick: handleMarkAllAsRead,\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                size: 16,\n                style: {\n                  display: 'inline',\n                  marginRight: '4px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 23\n              }, this), \"Mark all read\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n              onClick: handleDeleteAll,\n              style: {\n                color: '#ff6b6b'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16,\n                style: {\n                  display: 'inline',\n                  marginRight: '4px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 21\n              }, this), \"Clear all\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(ActionButton, {\n            onClick: () => setShowDropdown(false),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertsList, {\n        children: alerts.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: [/*#__PURE__*/_jsxDEV(Bell, {\n            size: 48,\n            style: {\n              margin: '0 auto 15px',\n              opacity: 0.3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"No trip alerts yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.85rem',\n              marginTop: '5px'\n            },\n            children: \"Alerts will appear here one day before your trips\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }, this) : alerts.map(alert => /*#__PURE__*/_jsxDEV(AlertItem, {\n          read: alert.read,\n          children: [!alert.read && /*#__PURE__*/_jsxDEV(UnreadBadge, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(AlertHeader, {\n            children: [/*#__PURE__*/_jsxDEV(AlertDestination, {\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                size: 16,\n                color: \"#667eea\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this), alert.destination]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(AlertActions, {\n              children: [!alert.read && /*#__PURE__*/_jsxDEV(AlertIconButton, {\n                onClick: () => handleMarkAsRead(alert.id),\n                title: \"Mark as read\",\n                children: /*#__PURE__*/_jsxDEV(Check, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(AlertIconButton, {\n                onClick: () => handleDelete(alert.id),\n                title: \"Delete\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(AlertSummary, {\n            children: alert.summary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 19\n          }, this), alert.forecast && !alert.error && /*#__PURE__*/_jsxDEV(WeatherInfo, {\n            children: [/*#__PURE__*/_jsxDEV(WeatherTemp, {\n              children: [alert.forecast.maxTemp, \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(WeatherCondition, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '1.5rem'\n                },\n                children: getWeatherIcon(alert.forecast.condition)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: alert.forecast.condition.charAt(0).toUpperCase() + alert.forecast.condition.slice(1).replace('-', ' ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(AlertDetails, {\n            read: alert.read,\n            children: /*#__PURE__*/_jsxDEV(AlertDetailItem, {\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 23\n              }, this), \"Trip starts: \", formatDate(alert.startDate)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 19\n          }, this)]\n        }, alert.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 327,\n    columnNumber: 5\n  }, this);\n}\n_s(TripWeatherAlerts, \"ZP33QkSZPLmERQ4GLl9qa5uf95Y=\");\n_c20 = TripWeatherAlerts;\nexport default TripWeatherAlerts;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20;\n$RefreshReg$(_c, \"NotificationBell\");\n$RefreshReg$(_c2, \"Badge\");\n$RefreshReg$(_c3, \"AlertsDropdown\");\n$RefreshReg$(_c4, \"AlertsHeader\");\n$RefreshReg$(_c5, \"AlertsTitle\");\n$RefreshReg$(_c6, \"HeaderActions\");\n$RefreshReg$(_c7, \"ActionButton\");\n$RefreshReg$(_c8, \"AlertsList\");\n$RefreshReg$(_c9, \"AlertItem\");\n$RefreshReg$(_c0, \"AlertHeader\");\n$RefreshReg$(_c1, \"AlertDestination\");\n$RefreshReg$(_c10, \"AlertActions\");\n$RefreshReg$(_c11, \"AlertIconButton\");\n$RefreshReg$(_c12, \"AlertSummary\");\n$RefreshReg$(_c13, \"AlertDetails\");\n$RefreshReg$(_c14, \"AlertDetailItem\");\n$RefreshReg$(_c15, \"WeatherInfo\");\n$RefreshReg$(_c16, \"WeatherTemp\");\n$RefreshReg$(_c17, \"WeatherCondition\");\n$RefreshReg$(_c18, \"EmptyState\");\n$RefreshReg$(_c19, \"UnreadBadge\");\n$RefreshReg$(_c20, \"TripWeatherAlerts\");","map":{"version":3,"names":["React","useState","useEffect","styled","Bell","X","Check","Trash2","MapPin","Calendar","CloudSun","XCircle","getAlerts","markAlertAsRead","markAllAlertsAsRead","deleteAlert","deleteAllAlerts","getUnreadAlertsCount","getWeatherIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationBell","button","_c","Badge","span","_c2","AlertsDropdown","div","_c3","AlertsHeader","_c4","AlertsTitle","h3","_c5","HeaderActions","_c6","ActionButton","_c7","AlertsList","_c8","AlertItem","props","read","_c9","AlertHeader","_c0","AlertDestination","_c1","AlertActions","_c10","AlertIconButton","_c11","AlertSummary","_c12","AlertDetails","_c13","AlertDetailItem","_c14","WeatherInfo","_c15","WeatherTemp","_c16","WeatherCondition","_c17","EmptyState","_c18","UnreadBadge","_c19","TripWeatherAlerts","_s","alerts","setAlerts","showDropdown","setShowDropdown","unreadCount","setUnreadCount","dropdownRef","useRef","loadAlerts","checkAlerts","interval","setInterval","dailyCheckInterval","now","Date","getHours","getMinutes","clearInterval","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","allAlerts","count","error","console","checkUpcomingTrips","handleMarkAsRead","alertId","handleMarkAllAsRead","handleDelete","handleDeleteAll","window","confirm","formatDate","dateString","date","toLocaleDateString","month","day","year","style","position","ref","children","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","fontWeight","length","display","marginRight","margin","opacity","marginTop","map","alert","destination","id","title","summary","forecast","maxTemp","condition","charAt","toUpperCase","slice","replace","startDate","_c20","$RefreshReg$"],"sources":["E:/full_stack/project/weatherapp/frontend/src/components/Traveler/TripWeatherAlerts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Bell, X, Check, Trash2, MapPin, Calendar, CloudSun, XCircle } from 'lucide-react';\r\nimport { getAlerts, markAlertAsRead, markAllAlertsAsRead, deleteAlert, deleteAllAlerts, getUnreadAlertsCount } from '../../services/tripAlertService';\r\nimport { getWeatherIcon } from '../../services/weatherService';\r\n\r\nconst NotificationBell = styled.button`\r\n  position: relative;\r\n  background: transparent;\r\n  border: none;\r\n  color: #333;\r\n  cursor: pointer;\r\n  padding: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    background: rgba(0, 0, 0, 0.05);\r\n  }\r\n`;\r\n\r\nconst Badge = styled.span`\r\n  position: absolute;\r\n  top: -2px;\r\n  right: -2px;\r\n  background: #ff6b6b;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 0.7rem;\r\n  font-weight: 700;\r\n  border: 2px solid white;\r\n`;\r\n\r\nconst AlertsDropdown = styled.div`\r\n  position: absolute;\r\n  top: calc(100% + 10px);\r\n  right: 0;\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);\r\n  width: 400px;\r\n  max-height: 600px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1000;\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 350px;\r\n    right: -50px;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    width: calc(100vw - 40px);\r\n    right: -100px;\r\n  }\r\n`;\r\n\r\nconst AlertsHeader = styled.div`\r\n  padding: 20px;\r\n  border-bottom: 1px solid #e1e5e9;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  background: white;\r\n  border-radius: 16px 16px 0 0;\r\n  z-index: 10;\r\n`;\r\n\r\nconst AlertsTitle = styled.h3`\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst HeaderActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: #667eea;\r\n  cursor: pointer;\r\n  padding: 5px 10px;\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    background: #f0f0f0;\r\n  }\r\n`;\r\n\r\nconst AlertsList = styled.div`\r\n  padding: 10px;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n`;\r\n\r\nconst AlertItem = styled.div`\r\n  background: ${props => props.read ? '#f8f9fa' : '#fff7ed'};\r\n  border: 1px solid ${props => props.read ? '#e1e5e9' : '#fed7aa'};\r\n  border-radius: 12px;\r\n  padding: 15px;\r\n  margin-bottom: 10px;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  \r\n  &:hover {\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst AlertHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst AlertDestination = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: #333;\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst AlertActions = styled.div`\r\n  display: flex;\r\n  gap: 5px;\r\n`;\r\n\r\nconst AlertIconButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  color: #666;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n  \r\n  &:hover {\r\n    background: rgba(0, 0, 0, 0.1);\r\n    color: #333;\r\n  }\r\n`;\r\n\r\nconst AlertSummary = styled.div`\r\n  color: #666;\r\n  font-size: 0.95rem;\r\n  line-height: 1.5;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst AlertDetails = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  font-size: 0.85rem;\r\n  color: #999;\r\n  margin-top: 10px;\r\n  padding-top: 10px;\r\n  border-top: 1px solid ${props => props.read ? '#e1e5e9' : '#fed7aa'};\r\n`;\r\n\r\nconst AlertDetailItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n`;\r\n\r\nconst WeatherInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  background: rgba(255, 255, 255, 0.5);\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst WeatherTemp = styled.div`\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #667eea;\r\n`;\r\n\r\nconst WeatherCondition = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  padding: 60px 20px;\r\n  text-align: center;\r\n  color: #999;\r\n`;\r\n\r\nconst UnreadBadge = styled.span`\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n  background: #ff6b6b;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 12px;\r\n  height: 12px;\r\n`;\r\n\r\nfunction TripWeatherAlerts() {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const dropdownRef = React.useRef(null);\r\n\r\n  useEffect(() => {\r\n    loadAlerts();\r\n    // Check for alerts immediately on mount\r\n    checkAlerts();\r\n    \r\n    // Check for new alerts every 30 minutes (runs even when tab is not active)\r\n    const interval = setInterval(() => {\r\n      checkAlerts();\r\n    }, 30 * 60 * 1000); // 30 minutes\r\n    \r\n    // Also check daily at midnight (check every hour and see if date changed)\r\n    const dailyCheckInterval = setInterval(() => {\r\n      const now = new Date();\r\n      if (now.getHours() === 0 && now.getMinutes() < 5) {\r\n        checkAlerts();\r\n      }\r\n    }, 60 * 60 * 1000); // Every hour\r\n    \r\n    return () => {\r\n      clearInterval(interval);\r\n      clearInterval(dailyCheckInterval);\r\n    };\r\n  }, []);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n\r\n    if (showDropdown) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [showDropdown]);\r\n\r\n  const loadAlerts = async () => {\r\n    try {\r\n      const allAlerts = await getAlerts();\r\n      setAlerts(allAlerts);\r\n      const count = await getUnreadAlertsCount();\r\n      setUnreadCount(count);\r\n    } catch (error) {\r\n      console.error('Error loading alerts:', error);\r\n    }\r\n  };\r\n\r\n  const checkAlerts = async () => {\r\n    const { checkUpcomingTrips } = await import('../../services/tripAlertService');\r\n    await checkUpcomingTrips();\r\n    loadAlerts();\r\n  };\r\n\r\n  const handleMarkAsRead = async (alertId) => {\r\n    await markAlertAsRead(alertId);\r\n    await loadAlerts();\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    await markAllAlertsAsRead();\r\n    await loadAlerts();\r\n  };\r\n\r\n  const handleDelete = async (alertId) => {\r\n    await deleteAlert(alertId);\r\n    await loadAlerts();\r\n  };\r\n\r\n  const handleDeleteAll = async () => {\r\n    if (window.confirm('Are you sure you want to delete all alerts?')) {\r\n      await deleteAllAlerts();\r\n      await loadAlerts();\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative' }} ref={dropdownRef}>\r\n      <NotificationBell onClick={() => setShowDropdown(!showDropdown)}>\r\n        <Bell size={24} />\r\n        {unreadCount > 0 && <Badge>{unreadCount > 9 ? '9+' : unreadCount}</Badge>}\r\n      </NotificationBell>\r\n\r\n      {showDropdown && (\r\n        <AlertsDropdown>\r\n          <AlertsHeader>\r\n            <AlertsTitle>\r\n              <Bell size={20} />\r\n              Trip Weather Alerts\r\n              {unreadCount > 0 && <span style={{ fontSize: '0.85rem', color: '#667eea', fontWeight: 'normal' }}>({unreadCount} new)</span>}\r\n            </AlertsTitle>\r\n            <HeaderActions>\r\n              {alerts.length > 0 && (\r\n                <>\r\n                  {unreadCount > 0 && (\r\n                    <ActionButton onClick={handleMarkAllAsRead}>\r\n                      <Check size={16} style={{ display: 'inline', marginRight: '4px' }} />\r\n                      Mark all read\r\n                    </ActionButton>\r\n                  )}\r\n                  <ActionButton onClick={handleDeleteAll} style={{ color: '#ff6b6b' }}>\r\n                    <Trash2 size={16} style={{ display: 'inline', marginRight: '4px' }} />\r\n                    Clear all\r\n                  </ActionButton>\r\n                </>\r\n              )}\r\n              <ActionButton onClick={() => setShowDropdown(false)}>\r\n                <X size={18} />\r\n              </ActionButton>\r\n            </HeaderActions>\r\n          </AlertsHeader>\r\n\r\n          <AlertsList>\r\n            {alerts.length === 0 ? (\r\n              <EmptyState>\r\n                <Bell size={48} style={{ margin: '0 auto 15px', opacity: 0.3 }} />\r\n                <div>No trip alerts yet</div>\r\n                <div style={{ fontSize: '0.85rem', marginTop: '5px' }}>Alerts will appear here one day before your trips</div>\r\n              </EmptyState>\r\n            ) : (\r\n              alerts.map((alert) => (\r\n                <AlertItem key={alert.id} read={alert.read}>\r\n                  {!alert.read && <UnreadBadge />}\r\n                  \r\n                  <AlertHeader>\r\n                    <AlertDestination>\r\n                      <MapPin size={16} color=\"#667eea\" />\r\n                      {alert.destination}\r\n                    </AlertDestination>\r\n                    <AlertActions>\r\n                      {!alert.read && (\r\n                        <AlertIconButton onClick={() => handleMarkAsRead(alert.id)} title=\"Mark as read\">\r\n                          <Check size={16} />\r\n                        </AlertIconButton>\r\n                      )}\r\n                      <AlertIconButton onClick={() => handleDelete(alert.id)} title=\"Delete\">\r\n                        <Trash2 size={16} />\r\n                      </AlertIconButton>\r\n                    </AlertActions>\r\n                  </AlertHeader>\r\n\r\n                  <AlertSummary>{alert.summary}</AlertSummary>\r\n\r\n                  {alert.forecast && !alert.error && (\r\n                    <WeatherInfo>\r\n                      <WeatherTemp>{alert.forecast.maxTemp}Â°C</WeatherTemp>\r\n                      <WeatherCondition>\r\n                        <span style={{ fontSize: '1.5rem' }}>{getWeatherIcon(alert.forecast.condition)}</span>\r\n                        <span>{alert.forecast.condition.charAt(0).toUpperCase() + alert.forecast.condition.slice(1).replace('-', ' ')}</span>\r\n                      </WeatherCondition>\r\n                    </WeatherInfo>\r\n                  )}\r\n\r\n                  <AlertDetails read={alert.read}>\r\n                    <AlertDetailItem>\r\n                      <Calendar size={14} />\r\n                      Trip starts: {formatDate(alert.startDate)}\r\n                    </AlertDetailItem>\r\n                  </AlertDetails>\r\n                </AlertItem>\r\n              ))\r\n            )}\r\n          </AlertsList>\r\n        </AlertsDropdown>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TripWeatherAlerts;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}