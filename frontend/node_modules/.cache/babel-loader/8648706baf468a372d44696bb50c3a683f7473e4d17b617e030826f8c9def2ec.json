{"ast":null,"code":"// Weather Forecast Service for Trip Planner and Weather Graph\n// Uses Open-Meteo API (FREE - no API key required)\n\n/**\r\n * Geocode a city name to get coordinates\r\n */\nasync function geocodeCity(cityName) {\n  try {\n    const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(cityName)}&count=1&language=en`;\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 5000);\n    const res = await fetch(url, {\n      signal: controller.signal\n    });\n    clearTimeout(timeoutId);\n    if (!res.ok) throw new Error(`Geocoding failed: ${res.status}`);\n    const data = await res.json();\n    const place = data.results && data.results[0];\n    if (!place) throw new Error(`City \"${cityName}\" not found. Try a different city name.`);\n    return {\n      lat: place.latitude,\n      lon: place.longitude,\n      name: place.name,\n      country: place.country\n    };\n  } catch (error) {\n    if (error.name === 'AbortError') {\n      throw new Error('Request timeout. Please try again.');\n    }\n    throw error;\n  }\n}\n\n/**\r\n * Get weather forecast for a location\r\n * @param {string} cityName - City name\r\n * @param {number} days - Number of days to forecast (default: 7)\r\n * @returns {Promise<Object>} Forecast data\r\n */\n/**\r\n * Generate mock weather forecast data\r\n */\nfunction generateMockForecast(cityName, days = 7) {\n  const conditions = ['sunny', 'partly-cloudy', 'cloudy', 'rainy', 'stormy'];\n  const baseTemp = Math.floor(Math.random() * 15) + 15; // 15-30°C\n\n  const dailyForecast = Array.from({\n    length: days\n  }, (_, i) => {\n    const variation = Math.floor(Math.random() * 8) - 4;\n    const condition = conditions[Math.floor(Math.random() * conditions.length)];\n    return {\n      date: new Date(Date.now() + i * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\n      maxTemp: baseTemp + variation + Math.floor(Math.random() * 5),\n      minTemp: baseTemp + variation - Math.floor(Math.random() * 5),\n      weatherCode: Math.floor(Math.random() * 100),\n      humidity: Math.floor(Math.random() * 30) + 50,\n      // 50-80%\n      windSpeed: Math.floor(Math.random() * 15) + 5,\n      // 5-20 km/h\n      condition\n    };\n  });\n  const hourlyData = Array.from({\n    length: 24\n  }, (_, i) => {\n    const hour = new Date();\n    hour.setHours(i, 0, 0, 0);\n    const tempVariation = Math.sin((i - 6) * Math.PI / 12) * 5; // Temperature varies by time of day\n    return {\n      time: hour.toLocaleTimeString('en-US', {\n        hour: 'numeric',\n        minute: '2-digit'\n      }),\n      temperature: Math.round(baseTemp + tempVariation),\n      humidity: Math.floor(Math.random() * 20) + 60,\n      windSpeed: Math.floor(Math.random() * 10) + 5\n    };\n  });\n  return {\n    location: {\n      name: cityName,\n      country: 'Unknown',\n      lat: 0,\n      lon: 0\n    },\n    current: {\n      temperature: dailyForecast[0].maxTemp,\n      condition: dailyForecast[0].condition,\n      humidity: dailyForecast[0].humidity,\n      windSpeed: dailyForecast[0].windSpeed\n    },\n    dailyForecast,\n    hourlyData,\n    recommended: getRecommendedTravelTime(dailyForecast)\n  };\n}\nexport const getWeatherForecast = async (cityName, days = 7) => {\n  try {\n    const {\n      lat,\n      lon,\n      name,\n      country\n    } = await geocodeCity(cityName);\n\n    // Use simpler endpoint that definitely works - matching wellnessService pattern\n    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max,temperature_2m_min,weathercode,windspeed_10m_max&hourly=temperature_2m,relativehumidity_2m,windspeed_10m&timezone=auto&forecast_days=${Math.min(days, 16)}`;\n    const fetchWithTimeout = (url, timeout = 8000) => {\n      return Promise.race([fetch(url), new Promise((_, reject) => setTimeout(() => reject(new Error('Request timeout')), timeout))]);\n    };\n    try {\n      var _data$daily, _data$hourly2, _data$hourly3, _dailyForecast$, _dailyForecast$2, _dailyForecast$3, _dailyForecast$4;\n      const res = await fetchWithTimeout(url);\n      if (!res.ok) {\n        throw new Error(`Weather API error: ${res.status}`);\n      }\n      const data = await res.json();\n\n      // Process daily forecast\n      const dailyForecast = (((_data$daily = data.daily) === null || _data$daily === void 0 ? void 0 : _data$daily.time) || []).slice(0, days).map((date, index) => {\n        var _data$hourly, _data$hourly$relative, _data$daily$windspeed;\n        const avgHumidity = ((_data$hourly = data.hourly) === null || _data$hourly === void 0 ? void 0 : (_data$hourly$relative = _data$hourly.relativehumidity_2m) === null || _data$hourly$relative === void 0 ? void 0 : _data$hourly$relative[index * 24]) || null;\n        return {\n          date,\n          maxTemp: Math.round(data.daily.temperature_2m_max[index] || 0),\n          minTemp: Math.round(data.daily.temperature_2m_min[index] || 0),\n          weatherCode: data.daily.weathercode[index] || 0,\n          humidity: avgHumidity ? Math.round(avgHumidity) : Math.floor(Math.random() * 30) + 50,\n          windSpeed: Math.round(((_data$daily$windspeed = data.daily.windspeed_10m_max) === null || _data$daily$windspeed === void 0 ? void 0 : _data$daily$windspeed[index]) || Math.floor(Math.random() * 15) + 5),\n          condition: getWeatherCondition(data.daily.weathercode[index] || 0)\n        };\n      });\n\n      // Process hourly data for today\n      const hourlyData = [];\n      if ((_data$hourly2 = data.hourly) !== null && _data$hourly2 !== void 0 && _data$hourly2.time && (_data$hourly3 = data.hourly) !== null && _data$hourly3 !== void 0 && _data$hourly3.temperature_2m) {\n        const now = new Date();\n        const today = now.toISOString().split('T')[0];\n        data.hourly.time.forEach((time, index) => {\n          if (time.startsWith(today) && index < 24) {\n            var _data$hourly$relative2, _data$hourly$windspee;\n            hourlyData.push({\n              time: new Date(time).toLocaleTimeString('en-US', {\n                hour: 'numeric',\n                minute: '2-digit'\n              }),\n              temperature: Math.round(data.hourly.temperature_2m[index] || 0),\n              humidity: Math.round(((_data$hourly$relative2 = data.hourly.relativehumidity_2m) === null || _data$hourly$relative2 === void 0 ? void 0 : _data$hourly$relative2[index]) || Math.floor(Math.random() * 20) + 60),\n              windSpeed: Math.round(((_data$hourly$windspee = data.hourly.windspeed_10m) === null || _data$hourly$windspee === void 0 ? void 0 : _data$hourly$windspee[index]) || Math.floor(Math.random() * 10) + 5)\n            });\n          }\n        });\n      }\n\n      // If no hourly data, generate some\n      if (hourlyData.length === 0 && dailyForecast.length > 0) {\n        const baseTemp = dailyForecast[0].maxTemp;\n        hourlyData.push(...Array.from({\n          length: 12\n        }, (_, i) => {\n          const hour = new Date();\n          hour.setHours(i * 2, 0, 0, 0);\n          return {\n            time: hour.toLocaleTimeString('en-US', {\n              hour: 'numeric',\n              minute: '2-digit'\n            }),\n            temperature: Math.round(baseTemp + Math.sin((i - 3) * Math.PI / 6) * 5),\n            humidity: dailyForecast[0].humidity,\n            windSpeed: dailyForecast[0].windSpeed\n          };\n        }));\n      }\n      return {\n        location: {\n          name,\n          country,\n          lat,\n          lon\n        },\n        current: {\n          temperature: ((_dailyForecast$ = dailyForecast[0]) === null || _dailyForecast$ === void 0 ? void 0 : _dailyForecast$.maxTemp) || null,\n          condition: ((_dailyForecast$2 = dailyForecast[0]) === null || _dailyForecast$2 === void 0 ? void 0 : _dailyForecast$2.condition) || 'Unknown',\n          humidity: ((_dailyForecast$3 = dailyForecast[0]) === null || _dailyForecast$3 === void 0 ? void 0 : _dailyForecast$3.humidity) || null,\n          windSpeed: ((_dailyForecast$4 = dailyForecast[0]) === null || _dailyForecast$4 === void 0 ? void 0 : _dailyForecast$4.windSpeed) || null\n        },\n        dailyForecast,\n        hourlyData,\n        recommended: getRecommendedTravelTime(dailyForecast)\n      };\n    } catch (apiError) {\n      // Fallback to mock data if API fails\n      console.warn('⚠️ Weather API failed, using mock data:', apiError.message);\n      return generateMockForecast(name || cityName, days);\n    }\n  } catch (error) {\n    // If geocoding fails, still generate mock data\n    console.warn('⚠️ Geocoding failed, using mock data:', error.message);\n    return generateMockForecast(cityName, days);\n  }\n};\n\n/**\r\n * Get weather condition from WMO weather code\r\n */\nfunction getWeatherCondition(code) {\n  const codes = {\n    0: 'sunny',\n    // Clear sky\n    1: 'partly-cloudy',\n    // Mainly clear\n    2: 'partly-cloudy',\n    // Partly cloudy\n    3: 'cloudy',\n    // Overcast\n    45: 'cloudy',\n    // Foggy\n    48: 'cloudy',\n    // Depositing rime fog\n    51: 'rainy',\n    // Light drizzle\n    53: 'rainy',\n    // Moderate drizzle\n    55: 'rainy',\n    // Dense drizzle\n    56: 'rainy',\n    // Light freezing drizzle\n    57: 'rainy',\n    // Dense freezing drizzle\n    61: 'rainy',\n    // Slight rain\n    63: 'rainy',\n    // Moderate rain\n    65: 'rainy',\n    // Heavy rain\n    66: 'rainy',\n    // Light freezing rain\n    67: 'rainy',\n    // Heavy freezing rain\n    71: 'cloudy',\n    // Slight snow\n    73: 'cloudy',\n    // Moderate snow\n    75: 'cloudy',\n    // Heavy snow\n    77: 'cloudy',\n    // Snow grains\n    80: 'rainy',\n    // Slight rain showers\n    81: 'rainy',\n    // Moderate rain showers\n    82: 'stormy',\n    // Violent rain showers\n    85: 'cloudy',\n    // Slight snow showers\n    86: 'cloudy',\n    // Heavy snow showers\n    95: 'stormy',\n    // Thunderstorm\n    96: 'stormy',\n    // Thunderstorm with slight hail\n    99: 'stormy' // Thunderstorm with heavy hail\n  };\n  return codes[code] || 'partly-cloudy';\n}\n\n/**\r\n * Get recommended travel times based on weather forecast\r\n */\nfunction getRecommendedTravelTime(forecast) {\n  var _forecast$;\n  if (!forecast || forecast.length === 0) return null;\n\n  // Find days with best weather (sunny or partly-cloudy, moderate temperature)\n  const bestDays = forecast.map((day, index) => ({\n    ...day,\n    index,\n    score: calculateWeatherScore(day)\n  })).filter(day => day.condition === 'sunny' || day.condition === 'partly-cloudy').sort((a, b) => b.score - a.score).slice(0, 3);\n  const avgTemp = forecast.reduce((sum, day) => sum + (day.maxTemp + day.minTemp) / 2, 0) / forecast.length;\n  const tempRange = {\n    min: Math.min(...forecast.map(d => d.minTemp)),\n    max: Math.max(...forecast.map(d => d.maxTemp))\n  };\n  return {\n    bestDays: bestDays.map(d => ({\n      date: d.date,\n      condition: d.condition\n    })),\n    averageTemp: Math.round(avgTemp),\n    tempRange,\n    overallCondition: ((_forecast$ = forecast[0]) === null || _forecast$ === void 0 ? void 0 : _forecast$.condition) || 'unknown'\n  };\n}\n\n/**\r\n * Calculate weather score for recommendation (higher is better)\r\n */\nfunction calculateWeatherScore(day) {\n  let score = 0;\n\n  // Weather condition score\n  const conditionScores = {\n    sunny: 10,\n    'partly-cloudy': 8,\n    cloudy: 5,\n    rainy: 2,\n    stormy: 0\n  };\n  score += conditionScores[day.condition] || 5;\n\n  // Temperature comfort score (prefer 15-25°C)\n  const avgTemp = (day.maxTemp + day.minTemp) / 2;\n  if (avgTemp >= 15 && avgTemp <= 25) score += 10;else if (avgTemp >= 10 && avgTemp <= 30) score += 5;\n\n  // Wind score (prefer moderate wind)\n  if (day.windSpeed <= 15) score += 5;else if (day.windSpeed > 25) score -= 5;\n  return score;\n}\n\n/**\r\n * Search locations with autocomplete\r\n */\nexport const searchLocations = async query => {\n  if (!query || query.length < 2) return [];\n  try {\n    const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=5&language=en`;\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 5000);\n    const res = await fetch(url, {\n      signal: controller.signal\n    });\n    clearTimeout(timeoutId);\n    if (!res.ok) return [];\n    const data = await res.json();\n    return (data.results || []).map(place => ({\n      id: place.id || `${place.latitude}-${place.longitude}`,\n      name: place.name,\n      country: place.country,\n      admin1: place.admin1 || '',\n      displayName: `${place.name}${place.admin1 ? ', ' + place.admin1 : ''}, ${place.country}`\n    }));\n  } catch (error) {\n    return [];\n  }\n};","map":{"version":3,"names":["geocodeCity","cityName","url","encodeURIComponent","controller","AbortController","timeoutId","setTimeout","abort","res","fetch","signal","clearTimeout","ok","Error","status","data","json","place","results","lat","latitude","lon","longitude","name","country","error","generateMockForecast","days","conditions","baseTemp","Math","floor","random","dailyForecast","Array","from","length","_","i","variation","condition","date","Date","now","toISOString","split","maxTemp","minTemp","weatherCode","humidity","windSpeed","hourlyData","hour","setHours","tempVariation","sin","PI","time","toLocaleTimeString","minute","temperature","round","location","current","recommended","getRecommendedTravelTime","getWeatherForecast","min","fetchWithTimeout","timeout","Promise","race","reject","_data$daily","_data$hourly2","_data$hourly3","_dailyForecast$","_dailyForecast$2","_dailyForecast$3","_dailyForecast$4","daily","slice","map","index","_data$hourly","_data$hourly$relative","_data$daily$windspeed","avgHumidity","hourly","relativehumidity_2m","temperature_2m_max","temperature_2m_min","weathercode","windspeed_10m_max","getWeatherCondition","temperature_2m","today","forEach","startsWith","_data$hourly$relative2","_data$hourly$windspee","push","windspeed_10m","apiError","console","warn","message","code","codes","forecast","_forecast$","bestDays","day","score","calculateWeatherScore","filter","sort","a","b","avgTemp","reduce","sum","tempRange","d","max","averageTemp","overallCondition","conditionScores","sunny","cloudy","rainy","stormy","searchLocations","query","id","admin1","displayName"],"sources":["E:/full_stack/project/weatherapp/frontend/src/services/weatherForecastService.js"],"sourcesContent":["// Weather Forecast Service for Trip Planner and Weather Graph\r\n// Uses Open-Meteo API (FREE - no API key required)\r\n\r\n/**\r\n * Geocode a city name to get coordinates\r\n */\r\nasync function geocodeCity(cityName) {\r\n  try {\r\n    const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(cityName)}&count=1&language=en`;\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n    \r\n    const res = await fetch(url, { signal: controller.signal });\r\n    clearTimeout(timeoutId);\r\n    \r\n    if (!res.ok) throw new Error(`Geocoding failed: ${res.status}`);\r\n    const data = await res.json();\r\n    const place = data.results && data.results[0];\r\n    if (!place) throw new Error(`City \"${cityName}\" not found. Try a different city name.`);\r\n    return { lat: place.latitude, lon: place.longitude, name: place.name, country: place.country };\r\n  } catch (error) {\r\n    if (error.name === 'AbortError') {\r\n      throw new Error('Request timeout. Please try again.');\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Get weather forecast for a location\r\n * @param {string} cityName - City name\r\n * @param {number} days - Number of days to forecast (default: 7)\r\n * @returns {Promise<Object>} Forecast data\r\n */\r\n/**\r\n * Generate mock weather forecast data\r\n */\r\nfunction generateMockForecast(cityName, days = 7) {\r\n  const conditions = ['sunny', 'partly-cloudy', 'cloudy', 'rainy', 'stormy'];\r\n  const baseTemp = Math.floor(Math.random() * 15) + 15; // 15-30°C\r\n  \r\n  const dailyForecast = Array.from({ length: days }, (_, i) => {\r\n    const variation = Math.floor(Math.random() * 8) - 4;\r\n    const condition = conditions[Math.floor(Math.random() * conditions.length)];\r\n    return {\r\n      date: new Date(Date.now() + i * 24 * 60 * 60 * 1000).toISOString().split('T')[0],\r\n      maxTemp: baseTemp + variation + Math.floor(Math.random() * 5),\r\n      minTemp: baseTemp + variation - Math.floor(Math.random() * 5),\r\n      weatherCode: Math.floor(Math.random() * 100),\r\n      humidity: Math.floor(Math.random() * 30) + 50, // 50-80%\r\n      windSpeed: Math.floor(Math.random() * 15) + 5, // 5-20 km/h\r\n      condition\r\n    };\r\n  });\r\n  \r\n  const hourlyData = Array.from({ length: 24 }, (_, i) => {\r\n    const hour = new Date();\r\n    hour.setHours(i, 0, 0, 0);\r\n    const tempVariation = Math.sin((i - 6) * Math.PI / 12) * 5; // Temperature varies by time of day\r\n    return {\r\n      time: hour.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' }),\r\n      temperature: Math.round(baseTemp + tempVariation),\r\n      humidity: Math.floor(Math.random() * 20) + 60,\r\n      windSpeed: Math.floor(Math.random() * 10) + 5\r\n    };\r\n  });\r\n  \r\n  return {\r\n    location: { name: cityName, country: 'Unknown', lat: 0, lon: 0 },\r\n    current: {\r\n      temperature: dailyForecast[0].maxTemp,\r\n      condition: dailyForecast[0].condition,\r\n      humidity: dailyForecast[0].humidity,\r\n      windSpeed: dailyForecast[0].windSpeed\r\n    },\r\n    dailyForecast,\r\n    hourlyData,\r\n    recommended: getRecommendedTravelTime(dailyForecast)\r\n  };\r\n}\r\n\r\nexport const getWeatherForecast = async (cityName, days = 7) => {\r\n  try {\r\n    const { lat, lon, name, country } = await geocodeCity(cityName);\r\n    \r\n    // Use simpler endpoint that definitely works - matching wellnessService pattern\r\n    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max,temperature_2m_min,weathercode,windspeed_10m_max&hourly=temperature_2m,relativehumidity_2m,windspeed_10m&timezone=auto&forecast_days=${Math.min(days, 16)}`;\r\n    \r\n    const fetchWithTimeout = (url, timeout = 8000) => {\r\n      return Promise.race([\r\n        fetch(url),\r\n        new Promise((_, reject) => \r\n          setTimeout(() => reject(new Error('Request timeout')), timeout)\r\n        )\r\n      ]);\r\n    };\r\n    \r\n    try {\r\n      const res = await fetchWithTimeout(url);\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Weather API error: ${res.status}`);\r\n      }\r\n      \r\n      const data = await res.json();\r\n      \r\n      // Process daily forecast\r\n      const dailyForecast = (data.daily?.time || []).slice(0, days).map((date, index) => {\r\n        const avgHumidity = data.hourly?.relativehumidity_2m?.[index * 24] || null;\r\n        return {\r\n          date,\r\n          maxTemp: Math.round(data.daily.temperature_2m_max[index] || 0),\r\n          minTemp: Math.round(data.daily.temperature_2m_min[index] || 0),\r\n          weatherCode: data.daily.weathercode[index] || 0,\r\n          humidity: avgHumidity ? Math.round(avgHumidity) : (Math.floor(Math.random() * 30) + 50),\r\n          windSpeed: Math.round(data.daily.windspeed_10m_max?.[index] || Math.floor(Math.random() * 15) + 5),\r\n          condition: getWeatherCondition(data.daily.weathercode[index] || 0)\r\n        };\r\n      });\r\n      \r\n      // Process hourly data for today\r\n      const hourlyData = [];\r\n      if (data.hourly?.time && data.hourly?.temperature_2m) {\r\n        const now = new Date();\r\n        const today = now.toISOString().split('T')[0];\r\n        \r\n        data.hourly.time.forEach((time, index) => {\r\n          if (time.startsWith(today) && index < 24) {\r\n            hourlyData.push({\r\n              time: new Date(time).toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' }),\r\n              temperature: Math.round(data.hourly.temperature_2m[index] || 0),\r\n              humidity: Math.round(data.hourly.relativehumidity_2m?.[index] || Math.floor(Math.random() * 20) + 60),\r\n              windSpeed: Math.round(data.hourly.windspeed_10m?.[index] || Math.floor(Math.random() * 10) + 5)\r\n            });\r\n          }\r\n        });\r\n      }\r\n      \r\n      // If no hourly data, generate some\r\n      if (hourlyData.length === 0 && dailyForecast.length > 0) {\r\n        const baseTemp = dailyForecast[0].maxTemp;\r\n        hourlyData.push(...Array.from({ length: 12 }, (_, i) => {\r\n          const hour = new Date();\r\n          hour.setHours(i * 2, 0, 0, 0);\r\n          return {\r\n            time: hour.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' }),\r\n            temperature: Math.round(baseTemp + Math.sin((i - 3) * Math.PI / 6) * 5),\r\n            humidity: dailyForecast[0].humidity,\r\n            windSpeed: dailyForecast[0].windSpeed\r\n          };\r\n        }));\r\n      }\r\n      \r\n      return {\r\n        location: { name, country, lat, lon },\r\n        current: {\r\n          temperature: dailyForecast[0]?.maxTemp || null,\r\n          condition: dailyForecast[0]?.condition || 'Unknown',\r\n          humidity: dailyForecast[0]?.humidity || null,\r\n          windSpeed: dailyForecast[0]?.windSpeed || null\r\n        },\r\n        dailyForecast,\r\n        hourlyData,\r\n        recommended: getRecommendedTravelTime(dailyForecast)\r\n      };\r\n    } catch (apiError) {\r\n      // Fallback to mock data if API fails\r\n      console.warn('⚠️ Weather API failed, using mock data:', apiError.message);\r\n      return generateMockForecast(name || cityName, days);\r\n    }\r\n  } catch (error) {\r\n    // If geocoding fails, still generate mock data\r\n    console.warn('⚠️ Geocoding failed, using mock data:', error.message);\r\n    return generateMockForecast(cityName, days);\r\n  }\r\n};\r\n\r\n/**\r\n * Get weather condition from WMO weather code\r\n */\r\nfunction getWeatherCondition(code) {\r\n  const codes = {\r\n    0: 'sunny', // Clear sky\r\n    1: 'partly-cloudy', // Mainly clear\r\n    2: 'partly-cloudy', // Partly cloudy\r\n    3: 'cloudy', // Overcast\r\n    45: 'cloudy', // Foggy\r\n    48: 'cloudy', // Depositing rime fog\r\n    51: 'rainy', // Light drizzle\r\n    53: 'rainy', // Moderate drizzle\r\n    55: 'rainy', // Dense drizzle\r\n    56: 'rainy', // Light freezing drizzle\r\n    57: 'rainy', // Dense freezing drizzle\r\n    61: 'rainy', // Slight rain\r\n    63: 'rainy', // Moderate rain\r\n    65: 'rainy', // Heavy rain\r\n    66: 'rainy', // Light freezing rain\r\n    67: 'rainy', // Heavy freezing rain\r\n    71: 'cloudy', // Slight snow\r\n    73: 'cloudy', // Moderate snow\r\n    75: 'cloudy', // Heavy snow\r\n    77: 'cloudy', // Snow grains\r\n    80: 'rainy', // Slight rain showers\r\n    81: 'rainy', // Moderate rain showers\r\n    82: 'stormy', // Violent rain showers\r\n    85: 'cloudy', // Slight snow showers\r\n    86: 'cloudy', // Heavy snow showers\r\n    95: 'stormy', // Thunderstorm\r\n    96: 'stormy', // Thunderstorm with slight hail\r\n    99: 'stormy' // Thunderstorm with heavy hail\r\n  };\r\n  return codes[code] || 'partly-cloudy';\r\n}\r\n\r\n/**\r\n * Get recommended travel times based on weather forecast\r\n */\r\nfunction getRecommendedTravelTime(forecast) {\r\n  if (!forecast || forecast.length === 0) return null;\r\n  \r\n  // Find days with best weather (sunny or partly-cloudy, moderate temperature)\r\n  const bestDays = forecast\r\n    .map((day, index) => ({\r\n      ...day,\r\n      index,\r\n      score: calculateWeatherScore(day)\r\n    }))\r\n    .filter(day => day.condition === 'sunny' || day.condition === 'partly-cloudy')\r\n    .sort((a, b) => b.score - a.score)\r\n    .slice(0, 3);\r\n  \r\n  const avgTemp = forecast.reduce((sum, day) => sum + (day.maxTemp + day.minTemp) / 2, 0) / forecast.length;\r\n  const tempRange = {\r\n    min: Math.min(...forecast.map(d => d.minTemp)),\r\n    max: Math.max(...forecast.map(d => d.maxTemp))\r\n  };\r\n  \r\n  return {\r\n    bestDays: bestDays.map(d => ({ date: d.date, condition: d.condition })),\r\n    averageTemp: Math.round(avgTemp),\r\n    tempRange,\r\n    overallCondition: forecast[0]?.condition || 'unknown'\r\n  };\r\n}\r\n\r\n/**\r\n * Calculate weather score for recommendation (higher is better)\r\n */\r\nfunction calculateWeatherScore(day) {\r\n  let score = 0;\r\n  \r\n  // Weather condition score\r\n  const conditionScores = {\r\n    sunny: 10,\r\n    'partly-cloudy': 8,\r\n    cloudy: 5,\r\n    rainy: 2,\r\n    stormy: 0\r\n  };\r\n  score += conditionScores[day.condition] || 5;\r\n  \r\n  // Temperature comfort score (prefer 15-25°C)\r\n  const avgTemp = (day.maxTemp + day.minTemp) / 2;\r\n  if (avgTemp >= 15 && avgTemp <= 25) score += 10;\r\n  else if (avgTemp >= 10 && avgTemp <= 30) score += 5;\r\n  \r\n  // Wind score (prefer moderate wind)\r\n  if (day.windSpeed <= 15) score += 5;\r\n  else if (day.windSpeed > 25) score -= 5;\r\n  \r\n  return score;\r\n}\r\n\r\n/**\r\n * Search locations with autocomplete\r\n */\r\nexport const searchLocations = async (query) => {\r\n  if (!query || query.length < 2) return [];\r\n  \r\n  try {\r\n    const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=5&language=en`;\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n    \r\n    const res = await fetch(url, { signal: controller.signal });\r\n    clearTimeout(timeoutId);\r\n    \r\n    if (!res.ok) return [];\r\n    const data = await res.json();\r\n    \r\n    return (data.results || []).map(place => ({\r\n      id: place.id || `${place.latitude}-${place.longitude}`,\r\n      name: place.name,\r\n      country: place.country,\r\n      admin1: place.admin1 || '',\r\n      displayName: `${place.name}${place.admin1 ? ', ' + place.admin1 : ''}, ${place.country}`\r\n    }));\r\n  } catch (error) {\r\n    return [];\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}