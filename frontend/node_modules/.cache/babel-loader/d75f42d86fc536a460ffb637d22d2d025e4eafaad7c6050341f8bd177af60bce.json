{"ast":null,"code":"// Wellness Weather Service for Employee Dashboard\n// This service provides mock wellness data including AQI, UV Index, Pollen Count, etc.\n\n// Toggle real-time data by setting REACT_APP_USE_REAL_WEATHER=1\nconst USE_REAL = String(process.env.REACT_APP_USE_REAL_WEATHER || '').trim() === '1';\n\n// --- Helpers for real-time data via Open-Meteo (no API key required) ---\nasync function geocodeCity(cityName) {\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(cityName)}&count=1`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Failed to geocode city');\n  const data = await res.json();\n  const place = data.results && data.results[0];\n  if (!place) throw new Error('City not found');\n  return {\n    lat: place.latitude,\n    lon: place.longitude,\n    name: place.name\n  };\n}\nfunction getNowIsoHour() {\n  const now = new Date();\n  now.setMinutes(0, 0, 0);\n  return now.toISOString().slice(0, 13) + ':00';\n}\nfunction formatHourLabel(iso) {\n  const d = new Date(iso);\n  return `${d.getHours()}:00`;\n}\n\n// Approximate US EPA AQI from PM2.5 (simple breakpoint method)\nfunction aqiFromPm25(pm) {\n  // Breakpoints: https://www.airnow.gov/aqi/aqi-basics/\n  const ranges = [{\n    cLow: 0.0,\n    cHigh: 12.0,\n    iLow: 0,\n    iHigh: 50\n  }, {\n    cLow: 12.1,\n    cHigh: 35.4,\n    iLow: 51,\n    iHigh: 100\n  }, {\n    cLow: 35.5,\n    cHigh: 55.4,\n    iLow: 101,\n    iHigh: 150\n  }, {\n    cLow: 55.5,\n    cHigh: 150.4,\n    iLow: 151,\n    iHigh: 200\n  }, {\n    cLow: 150.5,\n    cHigh: 250.4,\n    iLow: 201,\n    iHigh: 300\n  }, {\n    cLow: 250.5,\n    cHigh: 350.4,\n    iLow: 301,\n    iHigh: 400\n  }, {\n    cLow: 350.5,\n    cHigh: 500.4,\n    iLow: 401,\n    iHigh: 500\n  }];\n  for (const r of ranges) {\n    if (pm >= r.cLow && pm <= r.cHigh) {\n      return Math.round((r.iHigh - r.iLow) / (r.cHigh - r.cLow) * (pm - r.cLow) + r.iLow);\n    }\n  }\n  return Math.min(500, Math.max(0, Math.round(pm))); // fallback\n}\nfunction aqiCategory(aqi) {\n  if (aqi <= 50) return 'Good';\n  if (aqi <= 100) return 'Moderate';\n  if (aqi <= 150) return 'Unhealthy for Sensitive';\n  if (aqi <= 200) return 'Unhealthy';\n  if (aqi <= 300) return 'Very Unhealthy';\n  return 'Hazardous';\n}\nasync function getWellnessDataReal(cityName) {\n  var _weather$hourly, _air$hourly, _pollen$hourly, _weather$hourly2, _ref, _weather$current$temp, _weather$current, _weather$hourly3, _ref2, _weather$current$uv_i, _weather$current2, _weather$hourly4, _air$hourly2, _air$hourly3, _air$hourly4, _air$hourly5, _pm25Series$aHourIdx, _pm10Series$aHourIdx, _no2Series$aHourIdx, _o3Series$aHourIdx, _pollen$hourly$grass_, _pollen$hourly2, _pollen$hourly2$grass, _pollen$hourly$tree_p, _pollen$hourly3, _pollen$hourly3$tree_, _pollen$hourly$weed_p, _pollen$hourly4, _pollen$hourly4$weed_;\n  const {\n    lat,\n    lon\n  } = await geocodeCity(cityName);\n  const nowIsoHour = getNowIsoHour();\n  const urls = {\n    weather: `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=temperature_2m,uv_index&current=temperature_2m,uv_index&timezone=auto`,\n    air: `https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${lat}&longitude=${lon}&hourly=pm2_5,pm10,ozone,nitrogen_dioxide&timezone=auto`,\n    pollen: `https://pollen-api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=grass_pollen,tree_pollen,weed_pollen&timezone=auto`\n  };\n  const [weatherRes, airRes, pollenRes] = await Promise.all([fetch(urls.weather), fetch(urls.air), fetch(urls.pollen)]);\n  if (!weatherRes.ok) throw new Error('Failed to fetch weather');\n  if (!airRes.ok) throw new Error('Failed to fetch air quality');\n  // pollen might not be available everywhere; treat gracefully\n  const weather = await weatherRes.json();\n  const air = await airRes.json();\n  const pollen = pollenRes.ok ? await pollenRes.json() : null;\n\n  // Find index of current hour in hourly arrays\n  const findHourIndex = arr => Math.max(0, (arr || []).indexOf(nowIsoHour));\n  const wHourIdx = findHourIndex(((_weather$hourly = weather.hourly) === null || _weather$hourly === void 0 ? void 0 : _weather$hourly.time) || []);\n  const aHourIdx = findHourIndex(((_air$hourly = air.hourly) === null || _air$hourly === void 0 ? void 0 : _air$hourly.time) || []);\n  const pHourIdx = findHourIndex((pollen === null || pollen === void 0 ? void 0 : (_pollen$hourly = pollen.hourly) === null || _pollen$hourly === void 0 ? void 0 : _pollen$hourly.time) || []);\n\n  // Temperature current and series\n  const tempSeries = ((_weather$hourly2 = weather.hourly) === null || _weather$hourly2 === void 0 ? void 0 : _weather$hourly2.temperature_2m) || [];\n  const currentTemp = (_ref = (_weather$current$temp = (_weather$current = weather.current) === null || _weather$current === void 0 ? void 0 : _weather$current.temperature_2m) !== null && _weather$current$temp !== void 0 ? _weather$current$temp : tempSeries[wHourIdx]) !== null && _ref !== void 0 ? _ref : null;\n  const histTemps = tempSeries.slice(Math.max(0, wHourIdx - 6), wHourIdx);\n  const forecastTemps = tempSeries.slice(wHourIdx, wHourIdx + 6);\n\n  // UV index current and series\n  const uvSeries = ((_weather$hourly3 = weather.hourly) === null || _weather$hourly3 === void 0 ? void 0 : _weather$hourly3.uv_index) || [];\n  const uvCurrent = (_ref2 = (_weather$current$uv_i = (_weather$current2 = weather.current) === null || _weather$current2 === void 0 ? void 0 : _weather$current2.uv_index) !== null && _weather$current$uv_i !== void 0 ? _weather$current$uv_i : uvSeries[wHourIdx]) !== null && _ref2 !== void 0 ? _ref2 : 0;\n  const uvForecast = (((_weather$hourly4 = weather.hourly) === null || _weather$hourly4 === void 0 ? void 0 : _weather$hourly4.time) || []).slice(wHourIdx, Math.min(wHourIdx + 6, uvSeries.length)).map((t, i) => ({\n    time: formatHourLabel(t),\n    value: uvSeries[wHourIdx + i]\n  }));\n\n  // Air quality from PM2.5 dominant\n  const pm25Series = ((_air$hourly2 = air.hourly) === null || _air$hourly2 === void 0 ? void 0 : _air$hourly2.pm2_5) || [];\n  const pm10Series = ((_air$hourly3 = air.hourly) === null || _air$hourly3 === void 0 ? void 0 : _air$hourly3.pm10) || [];\n  const no2Series = ((_air$hourly4 = air.hourly) === null || _air$hourly4 === void 0 ? void 0 : _air$hourly4.nitrogen_dioxide) || [];\n  const o3Series = ((_air$hourly5 = air.hourly) === null || _air$hourly5 === void 0 ? void 0 : _air$hourly5.ozone) || [];\n  const pm25 = (_pm25Series$aHourIdx = pm25Series[aHourIdx]) !== null && _pm25Series$aHourIdx !== void 0 ? _pm25Series$aHourIdx : 0;\n  const pm10 = (_pm10Series$aHourIdx = pm10Series[aHourIdx]) !== null && _pm10Series$aHourIdx !== void 0 ? _pm10Series$aHourIdx : 0;\n  const no2 = (_no2Series$aHourIdx = no2Series[aHourIdx]) !== null && _no2Series$aHourIdx !== void 0 ? _no2Series$aHourIdx : 0;\n  const o3 = (_o3Series$aHourIdx = o3Series[aHourIdx]) !== null && _o3Series$aHourIdx !== void 0 ? _o3Series$aHourIdx : 0;\n  const aqi = aqiFromPm25(pm25);\n\n  // Pollen (if available) - scale 0-6 by rough quantization\n  const grass = (_pollen$hourly$grass_ = pollen === null || pollen === void 0 ? void 0 : (_pollen$hourly2 = pollen.hourly) === null || _pollen$hourly2 === void 0 ? void 0 : (_pollen$hourly2$grass = _pollen$hourly2.grass_pollen) === null || _pollen$hourly2$grass === void 0 ? void 0 : _pollen$hourly2$grass[pHourIdx]) !== null && _pollen$hourly$grass_ !== void 0 ? _pollen$hourly$grass_ : 0;\n  const trees = (_pollen$hourly$tree_p = pollen === null || pollen === void 0 ? void 0 : (_pollen$hourly3 = pollen.hourly) === null || _pollen$hourly3 === void 0 ? void 0 : (_pollen$hourly3$tree_ = _pollen$hourly3.tree_pollen) === null || _pollen$hourly3$tree_ === void 0 ? void 0 : _pollen$hourly3$tree_[pHourIdx]) !== null && _pollen$hourly$tree_p !== void 0 ? _pollen$hourly$tree_p : 0;\n  const weeds = (_pollen$hourly$weed_p = pollen === null || pollen === void 0 ? void 0 : (_pollen$hourly4 = pollen.hourly) === null || _pollen$hourly4 === void 0 ? void 0 : (_pollen$hourly4$weed_ = _pollen$hourly4.weed_pollen) === null || _pollen$hourly4$weed_ === void 0 ? void 0 : _pollen$hourly4$weed_[pHourIdx]) !== null && _pollen$hourly$weed_p !== void 0 ? _pollen$hourly$weed_p : 0;\n  const quantize = v => Math.max(0, Math.min(6, Math.round(v / 20))); // rough scale\n\n  return {\n    airQuality: {\n      aqi,\n      category: aqiCategory(aqi),\n      pollutants: {\n        pm25: Math.round(pm25),\n        pm10: Math.round(pm10),\n        no2: Math.round(no2),\n        o3: Math.round(o3)\n      }\n    },\n    uvIndex: {\n      current: Math.round(uvCurrent),\n      max: Math.max(...uvSeries.slice(wHourIdx, wHourIdx + 12).map(v => Math.round(v || 0)), Math.round(uvCurrent) || 0),\n      forecast: uvForecast\n    },\n    pollen: {\n      grass: quantize(grass),\n      trees: quantize(trees),\n      weeds: quantize(weeds),\n      mold: 0\n    },\n    temperature: {\n      current: Math.round(currentTemp),\n      feelsLike: Math.round(currentTemp),\n      historical: histTemps.map(t => Math.round(t)),\n      forecast: forecastTemps.map(t => Math.round(t))\n    },\n    tips: []\n  };\n}\nexport const getWellnessData = async cityName => {\n  if (USE_REAL) {\n    try {\n      return await getWellnessDataReal(cityName);\n    } catch (e) {\n      // Fallback to mock on any error\n      // eslint-disable-next-line no-console\n      console.warn('Real-time wellness fetch failed, falling back to mock:', e === null || e === void 0 ? void 0 : e.message);\n    }\n  }\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 800));\n\n  // Mock wellness data for major cities\n  const mockWellnessData = {\n    'Paris': {\n      airQuality: {\n        aqi: 45,\n        // Good\n        category: 'Good',\n        pollutants: {\n          pm25: 15,\n          pm10: 28,\n          no2: 25,\n          o3: 42\n        }\n      },\n      uvIndex: {\n        current: 3,\n        max: 5,\n        forecast: [{\n          time: '8:00',\n          value: 1\n        }, {\n          time: '10:00',\n          value: 2\n        }, {\n          time: '12:00',\n          value: 4\n        }, {\n          time: '14:00',\n          value: 5\n        }, {\n          time: '16:00',\n          value: 3\n        }, {\n          time: '18:00',\n          value: 1\n        }]\n      },\n      pollen: {\n        grass: 2,\n        // Low\n        trees: 4,\n        // Moderate\n        weeds: 1,\n        // Low\n        mold: 3\n      },\n      temperature: {\n        current: 18,\n        feelsLike: 19,\n        historical: [16, 17, 18, 19, 18, 17, 18],\n        forecast: [18, 20, 22, 21, 19, 17]\n      },\n      tips: [{\n        type: 'hydration',\n        priority: 'medium',\n        message: 'Stay hydrated in moderate temperatures'\n      }, {\n        type: 'sun',\n        priority: 'low',\n        message: 'Low UV risk - sunscreen optional'\n      }]\n    },\n    'Tokyo': {\n      airQuality: {\n        aqi: 32,\n        // Good\n        category: 'Good',\n        pollutants: {\n          pm25: 12,\n          pm10: 22,\n          no2: 20,\n          o3: 35\n        }\n      },\n      uvIndex: {\n        current: 6,\n        max: 8,\n        forecast: [{\n          time: '8:00',\n          value: 2\n        }, {\n          time: '10:00',\n          value: 4\n        }, {\n          time: '12:00',\n          value: 7\n        }, {\n          time: '14:00',\n          value: 8\n        }, {\n          time: '16:00',\n          value: 5\n        }, {\n          time: '18:00',\n          value: 2\n        }]\n      },\n      pollen: {\n        grass: 3,\n        trees: 5,\n        // High\n        weeds: 2,\n        mold: 4\n      },\n      temperature: {\n        current: 22,\n        feelsLike: 24,\n        historical: [20, 21, 22, 23, 22, 21, 22],\n        forecast: [22, 24, 25, 24, 23, 22]\n      },\n      tips: [{\n        type: 'sun',\n        priority: 'high',\n        message: 'High UV index - use sunscreen and seek shade'\n      }, {\n        type: 'hydration',\n        priority: 'high',\n        message: 'Increased hydration needed'\n      }, {\n        type: 'allergen',\n        priority: 'medium',\n        message: 'High pollen levels - consider medication'\n      }]\n    },\n    'New York': {\n      airQuality: {\n        aqi: 78,\n        // Moderate\n        category: 'Moderate',\n        pollutants: {\n          pm25: 28,\n          pm10: 45,\n          no2: 35,\n          o3: 52\n        }\n      },\n      uvIndex: {\n        current: 4,\n        max: 6,\n        forecast: [{\n          time: '8:00',\n          value: 1\n        }, {\n          time: '10:00',\n          value: 3\n        }, {\n          time: '12:00',\n          value: 5\n        }, {\n          time: '14:00',\n          value: 6\n        }, {\n          time: '16:00',\n          value: 4\n        }, {\n          time: '18:00',\n          value: 2\n        }]\n      },\n      pollen: {\n        grass: 5,\n        // High\n        trees: 3,\n        weeds: 4,\n        mold: 6 // Very High\n      },\n      temperature: {\n        current: 15,\n        feelsLike: 14,\n        historical: [13, 14, 15, 16, 15, 14, 15],\n        forecast: [15, 16, 18, 17, 15, 14]\n      },\n      tips: [{\n        type: 'mask',\n        priority: 'high',\n        message: 'Air quality moderate - sensitive individuals should wear masks'\n      }, {\n        type: 'indoor',\n        priority: 'medium',\n        message: 'High mold count - limit outdoor activities'\n      }]\n    },\n    'London': {\n      airQuality: {\n        aqi: 58,\n        // Moderate\n        category: 'Moderate',\n        pollutants: {\n          pm25: 22,\n          pm10: 38,\n          no2: 42,\n          o3: 55\n        }\n      },\n      uvIndex: {\n        current: 2,\n        max: 3,\n        forecast: [{\n          time: '8:00',\n          value: 0\n        }, {\n          time: '10:00',\n          value: 1\n        }, {\n          time: '12:00',\n          value: 2\n        }, {\n          time: '14:00',\n          value: 3\n        }, {\n          time: '16:00',\n          value: 2\n        }, {\n          time: '18:00',\n          value: 0\n        }]\n      },\n      pollen: {\n        grass: 4,\n        trees: 6,\n        // Very High\n        weeds: 5,\n        mold: 3\n      },\n      temperature: {\n        current: 12,\n        feelsLike: 11,\n        historical: [11, 12, 13, 12, 11, 10, 12],\n        forecast: [12, 13, 14, 13, 12, 11]\n      },\n      tips: [{\n        type: 'clothing',\n        priority: 'high',\n        message: 'Cooler weather - dress warmly'\n      }, {\n        type: 'allergen',\n        priority: 'high',\n        message: 'Very high tree pollen - take precautions'\n      }]\n    }\n  };\n\n  // Return mock data for known cities, or generate random data for others\n  if (mockWellnessData[cityName]) {\n    return mockWellnessData[cityName];\n  }\n\n  // Generate random wellness data for unknown cities\n  const aqiValues = [25, 45, 65, 85, 95, 115];\n  const uvValues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n  const pollenLevels = [1, 2, 3, 4, 5, 6];\n  const temps = [8, 12, 15, 20, 25, 30, 35];\n  const randomAqi = aqiValues[Math.floor(Math.random() * aqiValues.length)];\n  const randomUv = uvValues[Math.floor(Math.random() * uvValues.length)];\n\n  // Determine AQI category\n  let aqiCategory = 'Good';\n  if (randomAqi > 50 && randomAqi <= 100) aqiCategory = 'Moderate';else if (randomAqi > 100 && randomAqi <= 150) aqiCategory = 'Unhealthy for Sensitive';else if (randomAqi > 150) aqiCategory = 'Unhealthy';\n  return {\n    airQuality: {\n      aqi: randomAqi,\n      category: aqiCategory,\n      pollutants: {\n        pm25: Math.floor(randomAqi * 0.4),\n        pm10: Math.floor(randomAqi * 0.6),\n        no2: Math.floor(randomAqi * 0.5),\n        o3: Math.floor(randomAqi * 0.65)\n      }\n    },\n    uvIndex: {\n      current: randomUv,\n      max: randomUv + 2,\n      forecast: [{\n        time: '8:00',\n        value: Math.max(1, randomUv - 3)\n      }, {\n        time: '10:00',\n        value: Math.max(2, randomUv - 2)\n      }, {\n        time: '12:00',\n        value: Math.min(10, randomUv + 1)\n      }, {\n        time: '14:00',\n        value: randomUv\n      }, {\n        time: '16:00',\n        value: Math.max(2, randomUv - 2)\n      }, {\n        time: '18:00',\n        value: Math.max(1, randomUv - 4)\n      }]\n    },\n    pollen: {\n      grass: pollenLevels[Math.floor(Math.random() * pollenLevels.length)],\n      trees: pollenLevels[Math.floor(Math.random() * pollenLevels.length)],\n      weeds: pollenLevels[Math.floor(Math.random() * pollenLevels.length)],\n      mold: pollenLevels[Math.floor(Math.random() * pollenLevels.length)]\n    },\n    temperature: {\n      current: temps[Math.floor(Math.random() * temps.length)],\n      feelsLike: temps[Math.floor(Math.random() * temps.length)],\n      historical: Array.from({\n        length: 7\n      }, () => temps[Math.floor(Math.random() * temps.length)]),\n      forecast: Array.from({\n        length: 6\n      }, () => temps[Math.floor(Math.random() * temps.length)])\n    },\n    tips: [{\n      type: 'hydration',\n      priority: 'medium',\n      message: 'Maintain regular hydration levels'\n    }, {\n      type: 'general',\n      priority: 'low',\n      message: 'Enjoy pleasant weather conditions'\n    }]\n  };\n};\n\n// Get AQI color based on value\nexport const getAQIColor = aqi => {\n  if (aqi <= 50) return {\n    color: '#00e400',\n    bg: '#d4edda',\n    risk: 'Good'\n  };\n  if (aqi <= 100) return {\n    color: '#ffff00',\n    bg: '#fff3cd',\n    risk: 'Moderate'\n  };\n  if (aqi <= 150) return {\n    color: '#ff7e00',\n    bg: '#ffeaa7',\n    risk: 'Unhealthy for Sensitive'\n  };\n  if (aqi <= 200) return {\n    color: '#ff0000',\n    bg: '#f8d7da',\n    risk: 'Unhealthy'\n  };\n  if (aqi <= 300) return {\n    color: '#8f3f97',\n    bg: '#f1aeb5',\n    risk: 'Very Unhealthy'\n  };\n  return {\n    color: '#7e0023',\n    bg: '#f5c6cb',\n    risk: 'Hazardous'\n  };\n};\n\n// Get UV risk level\nexport const getUVRisk = uv => {\n  if (uv <= 2) return {\n    risk: 'Low',\n    color: '#00e400',\n    bg: '#d4edda'\n  };\n  if (uv <= 5) return {\n    risk: 'Moderate',\n    color: '#ffff00',\n    bg: '#fff3cd'\n  };\n  if (uv <= 7) return {\n    risk: 'High',\n    color: '#ff7e00',\n    bg: '#ffeaa7'\n  };\n  if (uv <= 10) return {\n    risk: 'Very High',\n    color: '#ff0000',\n    bg: '#f8d7da'\n  };\n  return {\n    risk: 'Extreme',\n    color: '#8f3f97',\n    bg: '#f1aeb5'\n  };\n};\n\n// Get pollen level description\nexport const getPollenLevel = value => {\n  if (value <= 2) return {\n    level: 'Low',\n    color: '#00e400'\n  };\n  if (value <= 4) return {\n    level: 'Moderate',\n    color: '#ffff00'\n  };\n  if (value <= 6) return {\n    level: 'High',\n    color: '#ff7e00'\n  };\n  return {\n    level: 'Very High',\n    color: '#ff0000'\n  };\n};\n\n// Get wellness tip icon\nexport const getTipIcon = type => {\n  const icons = {\n    hydration: 'üíß',\n    sun: '‚òÄÔ∏è',\n    mask: 'üò∑',\n    indoor: 'üè†',\n    allergen: 'üåø',\n    clothing: 'üß•',\n    general: '‚ÑπÔ∏è'\n  };\n  return icons[type] || 'üí°';\n};","map":{"version":3,"names":["USE_REAL","String","process","env","REACT_APP_USE_REAL_WEATHER","trim","geocodeCity","cityName","url","encodeURIComponent","res","fetch","ok","Error","data","json","place","results","lat","latitude","lon","longitude","name","getNowIsoHour","now","Date","setMinutes","toISOString","slice","formatHourLabel","iso","d","getHours","aqiFromPm25","pm","ranges","cLow","cHigh","iLow","iHigh","r","Math","round","min","max","aqiCategory","aqi","getWellnessDataReal","_weather$hourly","_air$hourly","_pollen$hourly","_weather$hourly2","_ref","_weather$current$temp","_weather$current","_weather$hourly3","_ref2","_weather$current$uv_i","_weather$current2","_weather$hourly4","_air$hourly2","_air$hourly3","_air$hourly4","_air$hourly5","_pm25Series$aHourIdx","_pm10Series$aHourIdx","_no2Series$aHourIdx","_o3Series$aHourIdx","_pollen$hourly$grass_","_pollen$hourly2","_pollen$hourly2$grass","_pollen$hourly$tree_p","_pollen$hourly3","_pollen$hourly3$tree_","_pollen$hourly$weed_p","_pollen$hourly4","_pollen$hourly4$weed_","nowIsoHour","urls","weather","air","pollen","weatherRes","airRes","pollenRes","Promise","all","findHourIndex","arr","indexOf","wHourIdx","hourly","time","aHourIdx","pHourIdx","tempSeries","temperature_2m","currentTemp","current","histTemps","forecastTemps","uvSeries","uv_index","uvCurrent","uvForecast","length","map","t","i","value","pm25Series","pm2_5","pm10Series","pm10","no2Series","nitrogen_dioxide","o3Series","ozone","pm25","no2","o3","grass","grass_pollen","trees","tree_pollen","weeds","weed_pollen","quantize","v","airQuality","category","pollutants","uvIndex","forecast","mold","temperature","feelsLike","historical","tips","getWellnessData","e","console","warn","message","resolve","setTimeout","mockWellnessData","type","priority","aqiValues","uvValues","pollenLevels","temps","randomAqi","floor","random","randomUv","Array","from","getAQIColor","color","bg","risk","getUVRisk","uv","getPollenLevel","level","getTipIcon","icons","hydration","sun","mask","indoor","allergen","clothing","general"],"sources":["E:/full_stack/project/weatherapp/frontend/src/services/wellnessService.js"],"sourcesContent":["// Wellness Weather Service for Employee Dashboard\r\n// This service provides mock wellness data including AQI, UV Index, Pollen Count, etc.\r\n\r\n// Toggle real-time data by setting REACT_APP_USE_REAL_WEATHER=1\r\nconst USE_REAL = String(process.env.REACT_APP_USE_REAL_WEATHER || '').trim() === '1';\r\n\r\n// --- Helpers for real-time data via Open-Meteo (no API key required) ---\r\nasync function geocodeCity(cityName) {\r\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(cityName)}&count=1`; \r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Failed to geocode city');\r\n  const data = await res.json();\r\n  const place = data.results && data.results[0];\r\n  if (!place) throw new Error('City not found');\r\n  return { lat: place.latitude, lon: place.longitude, name: place.name };\r\n}\r\n\r\nfunction getNowIsoHour() {\r\n  const now = new Date();\r\n  now.setMinutes(0, 0, 0);\r\n  return now.toISOString().slice(0, 13) + ':00';\r\n}\r\n\r\nfunction formatHourLabel(iso) {\r\n  const d = new Date(iso);\r\n  return `${d.getHours()}:00`;\r\n}\r\n\r\n// Approximate US EPA AQI from PM2.5 (simple breakpoint method)\r\nfunction aqiFromPm25(pm) {\r\n  // Breakpoints: https://www.airnow.gov/aqi/aqi-basics/\r\n  const ranges = [\r\n    { cLow: 0.0, cHigh: 12.0, iLow: 0, iHigh: 50 },\r\n    { cLow: 12.1, cHigh: 35.4, iLow: 51, iHigh: 100 },\r\n    { cLow: 35.5, cHigh: 55.4, iLow: 101, iHigh: 150 },\r\n    { cLow: 55.5, cHigh: 150.4, iLow: 151, iHigh: 200 },\r\n    { cLow: 150.5, cHigh: 250.4, iLow: 201, iHigh: 300 },\r\n    { cLow: 250.5, cHigh: 350.4, iLow: 301, iHigh: 400 },\r\n    { cLow: 350.5, cHigh: 500.4, iLow: 401, iHigh: 500 }\r\n  ];\r\n  for (const r of ranges) {\r\n    if (pm >= r.cLow && pm <= r.cHigh) {\r\n      return Math.round(((r.iHigh - r.iLow) / (r.cHigh - r.cLow)) * (pm - r.cLow) + r.iLow);\r\n    }\r\n  }\r\n  return Math.min(500, Math.max(0, Math.round(pm))); // fallback\r\n}\r\n\r\nfunction aqiCategory(aqi) {\r\n  if (aqi <= 50) return 'Good';\r\n  if (aqi <= 100) return 'Moderate';\r\n  if (aqi <= 150) return 'Unhealthy for Sensitive';\r\n  if (aqi <= 200) return 'Unhealthy';\r\n  if (aqi <= 300) return 'Very Unhealthy';\r\n  return 'Hazardous';\r\n}\r\n\r\nasync function getWellnessDataReal(cityName) {\r\n  const { lat, lon } = await geocodeCity(cityName);\r\n  const nowIsoHour = getNowIsoHour();\r\n\r\n  const urls = {\r\n    weather: `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=temperature_2m,uv_index&current=temperature_2m,uv_index&timezone=auto`,\r\n    air: `https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${lat}&longitude=${lon}&hourly=pm2_5,pm10,ozone,nitrogen_dioxide&timezone=auto`,\r\n    pollen: `https://pollen-api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&hourly=grass_pollen,tree_pollen,weed_pollen&timezone=auto`\r\n  };\r\n\r\n  const [weatherRes, airRes, pollenRes] = await Promise.all([\r\n    fetch(urls.weather),\r\n    fetch(urls.air),\r\n    fetch(urls.pollen)\r\n  ]);\r\n  if (!weatherRes.ok) throw new Error('Failed to fetch weather');\r\n  if (!airRes.ok) throw new Error('Failed to fetch air quality');\r\n  // pollen might not be available everywhere; treat gracefully\r\n  const weather = await weatherRes.json();\r\n  const air = await airRes.json();\r\n  const pollen = pollenRes.ok ? await pollenRes.json() : null;\r\n\r\n  // Find index of current hour in hourly arrays\r\n  const findHourIndex = (arr) => Math.max(0, (arr || []).indexOf(nowIsoHour));\r\n  const wHourIdx = findHourIndex(weather.hourly?.time || []);\r\n  const aHourIdx = findHourIndex(air.hourly?.time || []);\r\n  const pHourIdx = findHourIndex(pollen?.hourly?.time || []);\r\n\r\n  // Temperature current and series\r\n  const tempSeries = weather.hourly?.temperature_2m || [];\r\n  const currentTemp = weather.current?.temperature_2m ?? tempSeries[wHourIdx] ?? null;\r\n  const histTemps = tempSeries.slice(Math.max(0, wHourIdx - 6), wHourIdx);\r\n  const forecastTemps = tempSeries.slice(wHourIdx, wHourIdx + 6);\r\n\r\n  // UV index current and series\r\n  const uvSeries = weather.hourly?.uv_index || [];\r\n  const uvCurrent = weather.current?.uv_index ?? uvSeries[wHourIdx] ?? 0;\r\n  const uvForecast = (weather.hourly?.time || []).slice(wHourIdx, Math.min(wHourIdx + 6, uvSeries.length)).map((t, i) => ({\r\n    time: formatHourLabel(t),\r\n    value: uvSeries[wHourIdx + i]\r\n  }));\r\n\r\n  // Air quality from PM2.5 dominant\r\n  const pm25Series = air.hourly?.pm2_5 || [];\r\n  const pm10Series = air.hourly?.pm10 || [];\r\n  const no2Series = air.hourly?.nitrogen_dioxide || [];\r\n  const o3Series = air.hourly?.ozone || [];\r\n  const pm25 = pm25Series[aHourIdx] ?? 0;\r\n  const pm10 = pm10Series[aHourIdx] ?? 0;\r\n  const no2 = no2Series[aHourIdx] ?? 0;\r\n  const o3 = o3Series[aHourIdx] ?? 0;\r\n  const aqi = aqiFromPm25(pm25);\r\n\r\n  // Pollen (if available) - scale 0-6 by rough quantization\r\n  const grass = pollen?.hourly?.grass_pollen?.[pHourIdx] ?? 0;\r\n  const trees = pollen?.hourly?.tree_pollen?.[pHourIdx] ?? 0;\r\n  const weeds = pollen?.hourly?.weed_pollen?.[pHourIdx] ?? 0;\r\n  const quantize = (v) => Math.max(0, Math.min(6, Math.round(v / 20))); // rough scale\r\n\r\n  return {\r\n    airQuality: {\r\n      aqi,\r\n      category: aqiCategory(aqi),\r\n      pollutants: {\r\n        pm25: Math.round(pm25),\r\n        pm10: Math.round(pm10),\r\n        no2: Math.round(no2),\r\n        o3: Math.round(o3)\r\n      }\r\n    },\r\n    uvIndex: {\r\n      current: Math.round(uvCurrent),\r\n      max: Math.max(...uvSeries.slice(wHourIdx, wHourIdx + 12).map(v => Math.round(v || 0)), Math.round(uvCurrent) || 0),\r\n      forecast: uvForecast\r\n    },\r\n    pollen: {\r\n      grass: quantize(grass),\r\n      trees: quantize(trees),\r\n      weeds: quantize(weeds),\r\n      mold: 0\r\n    },\r\n    temperature: {\r\n      current: Math.round(currentTemp),\r\n      feelsLike: Math.round(currentTemp),\r\n      historical: histTemps.map(t => Math.round(t)),\r\n      forecast: forecastTemps.map(t => Math.round(t))\r\n    },\r\n    tips: []\r\n  };\r\n}\r\n\r\nexport const getWellnessData = async (cityName) => {\r\n  if (USE_REAL) {\r\n    try {\r\n      return await getWellnessDataReal(cityName);\r\n    } catch (e) {\r\n      // Fallback to mock on any error\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Real-time wellness fetch failed, falling back to mock:', e?.message);\r\n    }\r\n  }\r\n  // Simulate API delay\r\n  await new Promise(resolve => setTimeout(resolve, 800));\r\n  \r\n  // Mock wellness data for major cities\r\n  const mockWellnessData = {\r\n    'Paris': {\r\n      airQuality: {\r\n        aqi: 45, // Good\r\n        category: 'Good',\r\n        pollutants: {\r\n          pm25: 15,\r\n          pm10: 28,\r\n          no2: 25,\r\n          o3: 42\r\n        }\r\n      },\r\n      uvIndex: {\r\n        current: 3,\r\n        max: 5,\r\n        forecast: [\r\n          { time: '8:00', value: 1 },\r\n          { time: '10:00', value: 2 },\r\n          { time: '12:00', value: 4 },\r\n          { time: '14:00', value: 5 },\r\n          { time: '16:00', value: 3 },\r\n          { time: '18:00', value: 1 }\r\n        ]\r\n      },\r\n      pollen: {\r\n        grass: 2, // Low\r\n        trees: 4, // Moderate\r\n        weeds: 1, // Low\r\n        mold: 3\r\n      },\r\n      temperature: {\r\n        current: 18,\r\n        feelsLike: 19,\r\n        historical: [16, 17, 18, 19, 18, 17, 18],\r\n        forecast: [18, 20, 22, 21, 19, 17]\r\n      },\r\n      tips: [\r\n        { type: 'hydration', priority: 'medium', message: 'Stay hydrated in moderate temperatures' },\r\n        { type: 'sun', priority: 'low', message: 'Low UV risk - sunscreen optional' }\r\n      ]\r\n    },\r\n    'Tokyo': {\r\n      airQuality: {\r\n        aqi: 32, // Good\r\n        category: 'Good',\r\n        pollutants: {\r\n          pm25: 12,\r\n          pm10: 22,\r\n          no2: 20,\r\n          o3: 35\r\n        }\r\n      },\r\n      uvIndex: {\r\n        current: 6,\r\n        max: 8,\r\n        forecast: [\r\n          { time: '8:00', value: 2 },\r\n          { time: '10:00', value: 4 },\r\n          { time: '12:00', value: 7 },\r\n          { time: '14:00', value: 8 },\r\n          { time: '16:00', value: 5 },\r\n          { time: '18:00', value: 2 }\r\n        ]\r\n      },\r\n      pollen: {\r\n        grass: 3,\r\n        trees: 5, // High\r\n        weeds: 2,\r\n        mold: 4\r\n      },\r\n      temperature: {\r\n        current: 22,\r\n        feelsLike: 24,\r\n        historical: [20, 21, 22, 23, 22, 21, 22],\r\n        forecast: [22, 24, 25, 24, 23, 22]\r\n      },\r\n      tips: [\r\n        { type: 'sun', priority: 'high', message: 'High UV index - use sunscreen and seek shade' },\r\n        { type: 'hydration', priority: 'high', message: 'Increased hydration needed' },\r\n        { type: 'allergen', priority: 'medium', message: 'High pollen levels - consider medication' }\r\n      ]\r\n    },\r\n    'New York': {\r\n      airQuality: {\r\n        aqi: 78, // Moderate\r\n        category: 'Moderate',\r\n        pollutants: {\r\n          pm25: 28,\r\n          pm10: 45,\r\n          no2: 35,\r\n          o3: 52\r\n        }\r\n      },\r\n      uvIndex: {\r\n        current: 4,\r\n        max: 6,\r\n        forecast: [\r\n          { time: '8:00', value: 1 },\r\n          { time: '10:00', value: 3 },\r\n          { time: '12:00', value: 5 },\r\n          { time: '14:00', value: 6 },\r\n          { time: '16:00', value: 4 },\r\n          { time: '18:00', value: 2 }\r\n        ]\r\n      },\r\n      pollen: {\r\n        grass: 5, // High\r\n        trees: 3,\r\n        weeds: 4,\r\n        mold: 6 // Very High\r\n      },\r\n      temperature: {\r\n        current: 15,\r\n        feelsLike: 14,\r\n        historical: [13, 14, 15, 16, 15, 14, 15],\r\n        forecast: [15, 16, 18, 17, 15, 14]\r\n      },\r\n      tips: [\r\n        { type: 'mask', priority: 'high', message: 'Air quality moderate - sensitive individuals should wear masks' },\r\n        { type: 'indoor', priority: 'medium', message: 'High mold count - limit outdoor activities' }\r\n      ]\r\n    },\r\n    'London': {\r\n      airQuality: {\r\n        aqi: 58, // Moderate\r\n        category: 'Moderate',\r\n        pollutants: {\r\n          pm25: 22,\r\n          pm10: 38,\r\n          no2: 42,\r\n          o3: 55\r\n        }\r\n      },\r\n      uvIndex: {\r\n        current: 2,\r\n        max: 3,\r\n        forecast: [\r\n          { time: '8:00', value: 0 },\r\n          { time: '10:00', value: 1 },\r\n          { time: '12:00', value: 2 },\r\n          { time: '14:00', value: 3 },\r\n          { time: '16:00', value: 2 },\r\n          { time: '18:00', value: 0 }\r\n        ]\r\n      },\r\n      pollen: {\r\n        grass: 4,\r\n        trees: 6, // Very High\r\n        weeds: 5,\r\n        mold: 3\r\n      },\r\n      temperature: {\r\n        current: 12,\r\n        feelsLike: 11,\r\n        historical: [11, 12, 13, 12, 11, 10, 12],\r\n        forecast: [12, 13, 14, 13, 12, 11]\r\n      },\r\n      tips: [\r\n        { type: 'clothing', priority: 'high', message: 'Cooler weather - dress warmly' },\r\n        { type: 'allergen', priority: 'high', message: 'Very high tree pollen - take precautions' }\r\n      ]\r\n    }\r\n  };\r\n\r\n  // Return mock data for known cities, or generate random data for others\r\n  if (mockWellnessData[cityName]) {\r\n    return mockWellnessData[cityName];\r\n  }\r\n\r\n  // Generate random wellness data for unknown cities\r\n  const aqiValues = [25, 45, 65, 85, 95, 115];\r\n  const uvValues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n  const pollenLevels = [1, 2, 3, 4, 5, 6];\r\n  const temps = [8, 12, 15, 20, 25, 30, 35];\r\n\r\n  const randomAqi = aqiValues[Math.floor(Math.random() * aqiValues.length)];\r\n  const randomUv = uvValues[Math.floor(Math.random() * uvValues.length)];\r\n  \r\n  // Determine AQI category\r\n  let aqiCategory = 'Good';\r\n  if (randomAqi > 50 && randomAqi <= 100) aqiCategory = 'Moderate';\r\n  else if (randomAqi > 100 && randomAqi <= 150) aqiCategory = 'Unhealthy for Sensitive';\r\n  else if (randomAqi > 150) aqiCategory = 'Unhealthy';\r\n\r\n  return {\r\n    airQuality: {\r\n      aqi: randomAqi,\r\n      category: aqiCategory,\r\n      pollutants: {\r\n        pm25: Math.floor(randomAqi * 0.4),\r\n        pm10: Math.floor(randomAqi * 0.6),\r\n        no2: Math.floor(randomAqi * 0.5),\r\n        o3: Math.floor(randomAqi * 0.65)\r\n      }\r\n    },\r\n    uvIndex: {\r\n      current: randomUv,\r\n      max: randomUv + 2,\r\n      forecast: [\r\n        { time: '8:00', value: Math.max(1, randomUv - 3) },\r\n        { time: '10:00', value: Math.max(2, randomUv - 2) },\r\n        { time: '12:00', value: Math.min(10, randomUv + 1) },\r\n        { time: '14:00', value: randomUv },\r\n        { time: '16:00', value: Math.max(2, randomUv - 2) },\r\n        { time: '18:00', value: Math.max(1, randomUv - 4) }\r\n      ]\r\n    },\r\n    pollen: {\r\n      grass: pollenLevels[Math.floor(Math.random() * pollenLevels.length)],\r\n      trees: pollenLevels[Math.floor(Math.random() * pollenLevels.length)],\r\n      weeds: pollenLevels[Math.floor(Math.random() * pollenLevels.length)],\r\n      mold: pollenLevels[Math.floor(Math.random() * pollenLevels.length)]\r\n    },\r\n    temperature: {\r\n      current: temps[Math.floor(Math.random() * temps.length)],\r\n      feelsLike: temps[Math.floor(Math.random() * temps.length)],\r\n      historical: Array.from({ length: 7 }, () => \r\n        temps[Math.floor(Math.random() * temps.length)]\r\n      ),\r\n      forecast: Array.from({ length: 6 }, () => \r\n        temps[Math.floor(Math.random() * temps.length)]\r\n      )\r\n    },\r\n    tips: [\r\n      { type: 'hydration', priority: 'medium', message: 'Maintain regular hydration levels' },\r\n      { type: 'general', priority: 'low', message: 'Enjoy pleasant weather conditions' }\r\n    ]\r\n  };\r\n};\r\n\r\n// Get AQI color based on value\r\nexport const getAQIColor = (aqi) => {\r\n  if (aqi <= 50) return { color: '#00e400', bg: '#d4edda', risk: 'Good' };\r\n  if (aqi <= 100) return { color: '#ffff00', bg: '#fff3cd', risk: 'Moderate' };\r\n  if (aqi <= 150) return { color: '#ff7e00', bg: '#ffeaa7', risk: 'Unhealthy for Sensitive' };\r\n  if (aqi <= 200) return { color: '#ff0000', bg: '#f8d7da', risk: 'Unhealthy' };\r\n  if (aqi <= 300) return { color: '#8f3f97', bg: '#f1aeb5', risk: 'Very Unhealthy' };\r\n  return { color: '#7e0023', bg: '#f5c6cb', risk: 'Hazardous' };\r\n};\r\n\r\n// Get UV risk level\r\nexport const getUVRisk = (uv) => {\r\n  if (uv <= 2) return { risk: 'Low', color: '#00e400', bg: '#d4edda' };\r\n  if (uv <= 5) return { risk: 'Moderate', color: '#ffff00', bg: '#fff3cd' };\r\n  if (uv <= 7) return { risk: 'High', color: '#ff7e00', bg: '#ffeaa7' };\r\n  if (uv <= 10) return { risk: 'Very High', color: '#ff0000', bg: '#f8d7da' };\r\n  return { risk: 'Extreme', color: '#8f3f97', bg: '#f1aeb5' };\r\n};\r\n\r\n// Get pollen level description\r\nexport const getPollenLevel = (value) => {\r\n  if (value <= 2) return { level: 'Low', color: '#00e400' };\r\n  if (value <= 4) return { level: 'Moderate', color: '#ffff00' };\r\n  if (value <= 6) return { level: 'High', color: '#ff7e00' };\r\n  return { level: 'Very High', color: '#ff0000' };\r\n};\r\n\r\n// Get wellness tip icon\r\nexport const getTipIcon = (type) => {\r\n  const icons = {\r\n    hydration: 'üíß',\r\n    sun: '‚òÄÔ∏è',\r\n    mask: 'üò∑',\r\n    indoor: 'üè†',\r\n    allergen: 'üåø',\r\n    clothing: 'üß•',\r\n    general: '‚ÑπÔ∏è'\r\n  };\r\n  return icons[type] || 'üí°';\r\n};\r\n\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA,MAAMA,QAAQ,GAAGC,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,0BAA0B,IAAI,EAAE,CAAC,CAACC,IAAI,CAAC,CAAC,KAAK,GAAG;;AAEpF;AACA,eAAeC,WAAWA,CAACC,QAAQ,EAAE;EACnC,MAAMC,GAAG,GAAG,uDAAuDC,kBAAkB,CAACF,QAAQ,CAAC,UAAU;EACzG,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;EAC5B,IAAI,CAACE,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;EACtD,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,MAAMC,KAAK,GAAGF,IAAI,CAACG,OAAO,IAAIH,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC;EAC7C,IAAI,CAACD,KAAK,EAAE,MAAM,IAAIH,KAAK,CAAC,gBAAgB,CAAC;EAC7C,OAAO;IAAEK,GAAG,EAAEF,KAAK,CAACG,QAAQ;IAAEC,GAAG,EAAEJ,KAAK,CAACK,SAAS;IAAEC,IAAI,EAAEN,KAAK,CAACM;EAAK,CAAC;AACxE;AAEA,SAASC,aAAaA,CAAA,EAAG;EACvB,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;EACtBD,GAAG,CAACE,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACvB,OAAOF,GAAG,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK;AAC/C;AAEA,SAASC,eAAeA,CAACC,GAAG,EAAE;EAC5B,MAAMC,CAAC,GAAG,IAAIN,IAAI,CAACK,GAAG,CAAC;EACvB,OAAO,GAAGC,CAAC,CAACC,QAAQ,CAAC,CAAC,KAAK;AAC7B;;AAEA;AACA,SAASC,WAAWA,CAACC,EAAE,EAAE;EACvB;EACA,MAAMC,MAAM,GAAG,CACb;IAAEC,IAAI,EAAE,GAAG;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE,CAAC;IAAEC,KAAK,EAAE;EAAG,CAAC,EAC9C;IAAEH,IAAI,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAI,CAAC,EACjD;IAAEH,IAAI,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,IAAI,EAAE,GAAG;IAAEC,KAAK,EAAE;EAAI,CAAC,EAClD;IAAEH,IAAI,EAAE,IAAI;IAAEC,KAAK,EAAE,KAAK;IAAEC,IAAI,EAAE,GAAG;IAAEC,KAAK,EAAE;EAAI,CAAC,EACnD;IAAEH,IAAI,EAAE,KAAK;IAAEC,KAAK,EAAE,KAAK;IAAEC,IAAI,EAAE,GAAG;IAAEC,KAAK,EAAE;EAAI,CAAC,EACpD;IAAEH,IAAI,EAAE,KAAK;IAAEC,KAAK,EAAE,KAAK;IAAEC,IAAI,EAAE,GAAG;IAAEC,KAAK,EAAE;EAAI,CAAC,EACpD;IAAEH,IAAI,EAAE,KAAK;IAAEC,KAAK,EAAE,KAAK;IAAEC,IAAI,EAAE,GAAG;IAAEC,KAAK,EAAE;EAAI,CAAC,CACrD;EACD,KAAK,MAAMC,CAAC,IAAIL,MAAM,EAAE;IACtB,IAAID,EAAE,IAAIM,CAAC,CAACJ,IAAI,IAAIF,EAAE,IAAIM,CAAC,CAACH,KAAK,EAAE;MACjC,OAAOI,IAAI,CAACC,KAAK,CAAE,CAACF,CAAC,CAACD,KAAK,GAAGC,CAAC,CAACF,IAAI,KAAKE,CAAC,CAACH,KAAK,GAAGG,CAAC,CAACJ,IAAI,CAAC,IAAKF,EAAE,GAAGM,CAAC,CAACJ,IAAI,CAAC,GAAGI,CAAC,CAACF,IAAI,CAAC;IACvF;EACF;EACA,OAAOG,IAAI,CAACE,GAAG,CAAC,GAAG,EAAEF,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEH,IAAI,CAACC,KAAK,CAACR,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD;AAEA,SAASW,WAAWA,CAACC,GAAG,EAAE;EACxB,IAAIA,GAAG,IAAI,EAAE,EAAE,OAAO,MAAM;EAC5B,IAAIA,GAAG,IAAI,GAAG,EAAE,OAAO,UAAU;EACjC,IAAIA,GAAG,IAAI,GAAG,EAAE,OAAO,yBAAyB;EAChD,IAAIA,GAAG,IAAI,GAAG,EAAE,OAAO,WAAW;EAClC,IAAIA,GAAG,IAAI,GAAG,EAAE,OAAO,gBAAgB;EACvC,OAAO,WAAW;AACpB;AAEA,eAAeC,mBAAmBA,CAACxC,QAAQ,EAAE;EAAA,IAAAyC,eAAA,EAAAC,WAAA,EAAAC,cAAA,EAAAC,gBAAA,EAAAC,IAAA,EAAAC,qBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,KAAA,EAAAC,qBAAA,EAAAC,iBAAA,EAAAC,gBAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,oBAAA,EAAAC,oBAAA,EAAAC,mBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,eAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,eAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,eAAA,EAAAC,qBAAA;EAC3C,MAAM;IAAE1D,GAAG;IAAEE;EAAI,CAAC,GAAG,MAAMd,WAAW,CAACC,QAAQ,CAAC;EAChD,MAAMsE,UAAU,GAAGtD,aAAa,CAAC,CAAC;EAElC,MAAMuD,IAAI,GAAG;IACXC,OAAO,EAAE,mDAAmD7D,GAAG,cAAcE,GAAG,+EAA+E;IAC/J4D,GAAG,EAAE,kEAAkE9D,GAAG,cAAcE,GAAG,yDAAyD;IACpJ6D,MAAM,EAAE,0DAA0D/D,GAAG,cAAcE,GAAG;EACxF,CAAC;EAED,MAAM,CAAC8D,UAAU,EAAEC,MAAM,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACxD3E,KAAK,CAACmE,IAAI,CAACC,OAAO,CAAC,EACnBpE,KAAK,CAACmE,IAAI,CAACE,GAAG,CAAC,EACfrE,KAAK,CAACmE,IAAI,CAACG,MAAM,CAAC,CACnB,CAAC;EACF,IAAI,CAACC,UAAU,CAACtE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC9D,IAAI,CAACsE,MAAM,CAACvE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;EAC9D;EACA,MAAMkE,OAAO,GAAG,MAAMG,UAAU,CAACnE,IAAI,CAAC,CAAC;EACvC,MAAMiE,GAAG,GAAG,MAAMG,MAAM,CAACpE,IAAI,CAAC,CAAC;EAC/B,MAAMkE,MAAM,GAAGG,SAAS,CAACxE,EAAE,GAAG,MAAMwE,SAAS,CAACrE,IAAI,CAAC,CAAC,GAAG,IAAI;;EAE3D;EACA,MAAMwE,aAAa,GAAIC,GAAG,IAAK/C,IAAI,CAACG,GAAG,CAAC,CAAC,EAAE,CAAC4C,GAAG,IAAI,EAAE,EAAEC,OAAO,CAACZ,UAAU,CAAC,CAAC;EAC3E,MAAMa,QAAQ,GAAGH,aAAa,CAAC,EAAAvC,eAAA,GAAA+B,OAAO,CAACY,MAAM,cAAA3C,eAAA,uBAAdA,eAAA,CAAgB4C,IAAI,KAAI,EAAE,CAAC;EAC1D,MAAMC,QAAQ,GAAGN,aAAa,CAAC,EAAAtC,WAAA,GAAA+B,GAAG,CAACW,MAAM,cAAA1C,WAAA,uBAAVA,WAAA,CAAY2C,IAAI,KAAI,EAAE,CAAC;EACtD,MAAME,QAAQ,GAAGP,aAAa,CAAC,CAAAN,MAAM,aAANA,MAAM,wBAAA/B,cAAA,GAAN+B,MAAM,CAAEU,MAAM,cAAAzC,cAAA,uBAAdA,cAAA,CAAgB0C,IAAI,KAAI,EAAE,CAAC;;EAE1D;EACA,MAAMG,UAAU,GAAG,EAAA5C,gBAAA,GAAA4B,OAAO,CAACY,MAAM,cAAAxC,gBAAA,uBAAdA,gBAAA,CAAgB6C,cAAc,KAAI,EAAE;EACvD,MAAMC,WAAW,IAAA7C,IAAA,IAAAC,qBAAA,IAAAC,gBAAA,GAAGyB,OAAO,CAACmB,OAAO,cAAA5C,gBAAA,uBAAfA,gBAAA,CAAiB0C,cAAc,cAAA3C,qBAAA,cAAAA,qBAAA,GAAI0C,UAAU,CAACL,QAAQ,CAAC,cAAAtC,IAAA,cAAAA,IAAA,GAAI,IAAI;EACnF,MAAM+C,SAAS,GAAGJ,UAAU,CAACnE,KAAK,CAACa,IAAI,CAACG,GAAG,CAAC,CAAC,EAAE8C,QAAQ,GAAG,CAAC,CAAC,EAAEA,QAAQ,CAAC;EACvE,MAAMU,aAAa,GAAGL,UAAU,CAACnE,KAAK,CAAC8D,QAAQ,EAAEA,QAAQ,GAAG,CAAC,CAAC;;EAE9D;EACA,MAAMW,QAAQ,GAAG,EAAA9C,gBAAA,GAAAwB,OAAO,CAACY,MAAM,cAAApC,gBAAA,uBAAdA,gBAAA,CAAgB+C,QAAQ,KAAI,EAAE;EAC/C,MAAMC,SAAS,IAAA/C,KAAA,IAAAC,qBAAA,IAAAC,iBAAA,GAAGqB,OAAO,CAACmB,OAAO,cAAAxC,iBAAA,uBAAfA,iBAAA,CAAiB4C,QAAQ,cAAA7C,qBAAA,cAAAA,qBAAA,GAAI4C,QAAQ,CAACX,QAAQ,CAAC,cAAAlC,KAAA,cAAAA,KAAA,GAAI,CAAC;EACtE,MAAMgD,UAAU,GAAG,CAAC,EAAA7C,gBAAA,GAAAoB,OAAO,CAACY,MAAM,cAAAhC,gBAAA,uBAAdA,gBAAA,CAAgBiC,IAAI,KAAI,EAAE,EAAEhE,KAAK,CAAC8D,QAAQ,EAAEjD,IAAI,CAACE,GAAG,CAAC+C,QAAQ,GAAG,CAAC,EAAEW,QAAQ,CAACI,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,MAAM;IACtHhB,IAAI,EAAE/D,eAAe,CAAC8E,CAAC,CAAC;IACxBE,KAAK,EAAER,QAAQ,CAACX,QAAQ,GAAGkB,CAAC;EAC9B,CAAC,CAAC,CAAC;;EAEH;EACA,MAAME,UAAU,GAAG,EAAAlD,YAAA,GAAAoB,GAAG,CAACW,MAAM,cAAA/B,YAAA,uBAAVA,YAAA,CAAYmD,KAAK,KAAI,EAAE;EAC1C,MAAMC,UAAU,GAAG,EAAAnD,YAAA,GAAAmB,GAAG,CAACW,MAAM,cAAA9B,YAAA,uBAAVA,YAAA,CAAYoD,IAAI,KAAI,EAAE;EACzC,MAAMC,SAAS,GAAG,EAAApD,YAAA,GAAAkB,GAAG,CAACW,MAAM,cAAA7B,YAAA,uBAAVA,YAAA,CAAYqD,gBAAgB,KAAI,EAAE;EACpD,MAAMC,QAAQ,GAAG,EAAArD,YAAA,GAAAiB,GAAG,CAACW,MAAM,cAAA5B,YAAA,uBAAVA,YAAA,CAAYsD,KAAK,KAAI,EAAE;EACxC,MAAMC,IAAI,IAAAtD,oBAAA,GAAG8C,UAAU,CAACjB,QAAQ,CAAC,cAAA7B,oBAAA,cAAAA,oBAAA,GAAI,CAAC;EACtC,MAAMiD,IAAI,IAAAhD,oBAAA,GAAG+C,UAAU,CAACnB,QAAQ,CAAC,cAAA5B,oBAAA,cAAAA,oBAAA,GAAI,CAAC;EACtC,MAAMsD,GAAG,IAAArD,mBAAA,GAAGgD,SAAS,CAACrB,QAAQ,CAAC,cAAA3B,mBAAA,cAAAA,mBAAA,GAAI,CAAC;EACpC,MAAMsD,EAAE,IAAArD,kBAAA,GAAGiD,QAAQ,CAACvB,QAAQ,CAAC,cAAA1B,kBAAA,cAAAA,kBAAA,GAAI,CAAC;EAClC,MAAMrB,GAAG,GAAGb,WAAW,CAACqF,IAAI,CAAC;;EAE7B;EACA,MAAMG,KAAK,IAAArD,qBAAA,GAAGa,MAAM,aAANA,MAAM,wBAAAZ,eAAA,GAANY,MAAM,CAAEU,MAAM,cAAAtB,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBqD,YAAY,cAAApD,qBAAA,uBAA5BA,qBAAA,CAA+BwB,QAAQ,CAAC,cAAA1B,qBAAA,cAAAA,qBAAA,GAAI,CAAC;EAC3D,MAAMuD,KAAK,IAAApD,qBAAA,GAAGU,MAAM,aAANA,MAAM,wBAAAT,eAAA,GAANS,MAAM,CAAEU,MAAM,cAAAnB,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBoD,WAAW,cAAAnD,qBAAA,uBAA3BA,qBAAA,CAA8BqB,QAAQ,CAAC,cAAAvB,qBAAA,cAAAA,qBAAA,GAAI,CAAC;EAC1D,MAAMsD,KAAK,IAAAnD,qBAAA,GAAGO,MAAM,aAANA,MAAM,wBAAAN,eAAA,GAANM,MAAM,CAAEU,MAAM,cAAAhB,eAAA,wBAAAC,qBAAA,GAAdD,eAAA,CAAgBmD,WAAW,cAAAlD,qBAAA,uBAA3BA,qBAAA,CAA8BkB,QAAQ,CAAC,cAAApB,qBAAA,cAAAA,qBAAA,GAAI,CAAC;EAC1D,MAAMqD,QAAQ,GAAIC,CAAC,IAAKvF,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEH,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEF,IAAI,CAACC,KAAK,CAACsF,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEtE,OAAO;IACLC,UAAU,EAAE;MACVnF,GAAG;MACHoF,QAAQ,EAAErF,WAAW,CAACC,GAAG,CAAC;MAC1BqF,UAAU,EAAE;QACVb,IAAI,EAAE7E,IAAI,CAACC,KAAK,CAAC4E,IAAI,CAAC;QACtBL,IAAI,EAAExE,IAAI,CAACC,KAAK,CAACuE,IAAI,CAAC;QACtBM,GAAG,EAAE9E,IAAI,CAACC,KAAK,CAAC6E,GAAG,CAAC;QACpBC,EAAE,EAAE/E,IAAI,CAACC,KAAK,CAAC8E,EAAE;MACnB;IACF,CAAC;IACDY,OAAO,EAAE;MACPlC,OAAO,EAAEzD,IAAI,CAACC,KAAK,CAAC6D,SAAS,CAAC;MAC9B3D,GAAG,EAAEH,IAAI,CAACG,GAAG,CAAC,GAAGyD,QAAQ,CAACzE,KAAK,CAAC8D,QAAQ,EAAEA,QAAQ,GAAG,EAAE,CAAC,CAACgB,GAAG,CAACsB,CAAC,IAAIvF,IAAI,CAACC,KAAK,CAACsF,CAAC,IAAI,CAAC,CAAC,CAAC,EAAEvF,IAAI,CAACC,KAAK,CAAC6D,SAAS,CAAC,IAAI,CAAC,CAAC;MAClH8B,QAAQ,EAAE7B;IACZ,CAAC;IACDvB,MAAM,EAAE;MACNwC,KAAK,EAAEM,QAAQ,CAACN,KAAK,CAAC;MACtBE,KAAK,EAAEI,QAAQ,CAACJ,KAAK,CAAC;MACtBE,KAAK,EAAEE,QAAQ,CAACF,KAAK,CAAC;MACtBS,IAAI,EAAE;IACR,CAAC;IACDC,WAAW,EAAE;MACXrC,OAAO,EAAEzD,IAAI,CAACC,KAAK,CAACuD,WAAW,CAAC;MAChCuC,SAAS,EAAE/F,IAAI,CAACC,KAAK,CAACuD,WAAW,CAAC;MAClCwC,UAAU,EAAEtC,SAAS,CAACO,GAAG,CAACC,CAAC,IAAIlE,IAAI,CAACC,KAAK,CAACiE,CAAC,CAAC,CAAC;MAC7C0B,QAAQ,EAAEjC,aAAa,CAACM,GAAG,CAACC,CAAC,IAAIlE,IAAI,CAACC,KAAK,CAACiE,CAAC,CAAC;IAChD,CAAC;IACD+B,IAAI,EAAE;EACR,CAAC;AACH;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAOpI,QAAQ,IAAK;EACjD,IAAIP,QAAQ,EAAE;IACZ,IAAI;MACF,OAAO,MAAM+C,mBAAmB,CAACxC,QAAQ,CAAC;IAC5C,CAAC,CAAC,OAAOqI,CAAC,EAAE;MACV;MACA;MACAC,OAAO,CAACC,IAAI,CAAC,wDAAwD,EAAEF,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEG,OAAO,CAAC;IACpF;EACF;EACA;EACA,MAAM,IAAI1D,OAAO,CAAC2D,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC;;EAEtD;EACA,MAAME,gBAAgB,GAAG;IACvB,OAAO,EAAE;MACPjB,UAAU,EAAE;QACVnF,GAAG,EAAE,EAAE;QAAE;QACToF,QAAQ,EAAE,MAAM;QAChBC,UAAU,EAAE;UACVb,IAAI,EAAE,EAAE;UACRL,IAAI,EAAE,EAAE;UACRM,GAAG,EAAE,EAAE;UACPC,EAAE,EAAE;QACN;MACF,CAAC;MACDY,OAAO,EAAE;QACPlC,OAAO,EAAE,CAAC;QACVtD,GAAG,EAAE,CAAC;QACNyF,QAAQ,EAAE,CACR;UAAEzC,IAAI,EAAE,MAAM;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC1B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC;MAE/B,CAAC;MACD5B,MAAM,EAAE;QACNwC,KAAK,EAAE,CAAC;QAAE;QACVE,KAAK,EAAE,CAAC;QAAE;QACVE,KAAK,EAAE,CAAC;QAAE;QACVS,IAAI,EAAE;MACR,CAAC;MACDC,WAAW,EAAE;QACXrC,OAAO,EAAE,EAAE;QACXsC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACxCJ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;MACnC,CAAC;MACDK,IAAI,EAAE,CACJ;QAAES,IAAI,EAAE,WAAW;QAAEC,QAAQ,EAAE,QAAQ;QAAEL,OAAO,EAAE;MAAyC,CAAC,EAC5F;QAAEI,IAAI,EAAE,KAAK;QAAEC,QAAQ,EAAE,KAAK;QAAEL,OAAO,EAAE;MAAmC,CAAC;IAEjF,CAAC;IACD,OAAO,EAAE;MACPd,UAAU,EAAE;QACVnF,GAAG,EAAE,EAAE;QAAE;QACToF,QAAQ,EAAE,MAAM;QAChBC,UAAU,EAAE;UACVb,IAAI,EAAE,EAAE;UACRL,IAAI,EAAE,EAAE;UACRM,GAAG,EAAE,EAAE;UACPC,EAAE,EAAE;QACN;MACF,CAAC;MACDY,OAAO,EAAE;QACPlC,OAAO,EAAE,CAAC;QACVtD,GAAG,EAAE,CAAC;QACNyF,QAAQ,EAAE,CACR;UAAEzC,IAAI,EAAE,MAAM;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC1B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC;MAE/B,CAAC;MACD5B,MAAM,EAAE;QACNwC,KAAK,EAAE,CAAC;QACRE,KAAK,EAAE,CAAC;QAAE;QACVE,KAAK,EAAE,CAAC;QACRS,IAAI,EAAE;MACR,CAAC;MACDC,WAAW,EAAE;QACXrC,OAAO,EAAE,EAAE;QACXsC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACxCJ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;MACnC,CAAC;MACDK,IAAI,EAAE,CACJ;QAAES,IAAI,EAAE,KAAK;QAAEC,QAAQ,EAAE,MAAM;QAAEL,OAAO,EAAE;MAA+C,CAAC,EAC1F;QAAEI,IAAI,EAAE,WAAW;QAAEC,QAAQ,EAAE,MAAM;QAAEL,OAAO,EAAE;MAA6B,CAAC,EAC9E;QAAEI,IAAI,EAAE,UAAU;QAAEC,QAAQ,EAAE,QAAQ;QAAEL,OAAO,EAAE;MAA2C,CAAC;IAEjG,CAAC;IACD,UAAU,EAAE;MACVd,UAAU,EAAE;QACVnF,GAAG,EAAE,EAAE;QAAE;QACToF,QAAQ,EAAE,UAAU;QACpBC,UAAU,EAAE;UACVb,IAAI,EAAE,EAAE;UACRL,IAAI,EAAE,EAAE;UACRM,GAAG,EAAE,EAAE;UACPC,EAAE,EAAE;QACN;MACF,CAAC;MACDY,OAAO,EAAE;QACPlC,OAAO,EAAE,CAAC;QACVtD,GAAG,EAAE,CAAC;QACNyF,QAAQ,EAAE,CACR;UAAEzC,IAAI,EAAE,MAAM;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC1B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC;MAE/B,CAAC;MACD5B,MAAM,EAAE;QACNwC,KAAK,EAAE,CAAC;QAAE;QACVE,KAAK,EAAE,CAAC;QACRE,KAAK,EAAE,CAAC;QACRS,IAAI,EAAE,CAAC,CAAC;MACV,CAAC;MACDC,WAAW,EAAE;QACXrC,OAAO,EAAE,EAAE;QACXsC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACxCJ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;MACnC,CAAC;MACDK,IAAI,EAAE,CACJ;QAAES,IAAI,EAAE,MAAM;QAAEC,QAAQ,EAAE,MAAM;QAAEL,OAAO,EAAE;MAAiE,CAAC,EAC7G;QAAEI,IAAI,EAAE,QAAQ;QAAEC,QAAQ,EAAE,QAAQ;QAAEL,OAAO,EAAE;MAA6C,CAAC;IAEjG,CAAC;IACD,QAAQ,EAAE;MACRd,UAAU,EAAE;QACVnF,GAAG,EAAE,EAAE;QAAE;QACToF,QAAQ,EAAE,UAAU;QACpBC,UAAU,EAAE;UACVb,IAAI,EAAE,EAAE;UACRL,IAAI,EAAE,EAAE;UACRM,GAAG,EAAE,EAAE;UACPC,EAAE,EAAE;QACN;MACF,CAAC;MACDY,OAAO,EAAE;QACPlC,OAAO,EAAE,CAAC;QACVtD,GAAG,EAAE,CAAC;QACNyF,QAAQ,EAAE,CACR;UAAEzC,IAAI,EAAE,MAAM;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC1B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC,EAC3B;UAAEjB,IAAI,EAAE,OAAO;UAAEiB,KAAK,EAAE;QAAE,CAAC;MAE/B,CAAC;MACD5B,MAAM,EAAE;QACNwC,KAAK,EAAE,CAAC;QACRE,KAAK,EAAE,CAAC;QAAE;QACVE,KAAK,EAAE,CAAC;QACRS,IAAI,EAAE;MACR,CAAC;MACDC,WAAW,EAAE;QACXrC,OAAO,EAAE,EAAE;QACXsC,SAAS,EAAE,EAAE;QACbC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACxCJ,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;MACnC,CAAC;MACDK,IAAI,EAAE,CACJ;QAAES,IAAI,EAAE,UAAU;QAAEC,QAAQ,EAAE,MAAM;QAAEL,OAAO,EAAE;MAAgC,CAAC,EAChF;QAAEI,IAAI,EAAE,UAAU;QAAEC,QAAQ,EAAE,MAAM;QAAEL,OAAO,EAAE;MAA2C,CAAC;IAE/F;EACF,CAAC;;EAED;EACA,IAAIG,gBAAgB,CAAC3I,QAAQ,CAAC,EAAE;IAC9B,OAAO2I,gBAAgB,CAAC3I,QAAQ,CAAC;EACnC;;EAEA;EACA,MAAM8I,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;EAC3C,MAAMC,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;EAChD,MAAMC,YAAY,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EACvC,MAAMC,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;EAEzC,MAAMC,SAAS,GAAGJ,SAAS,CAAC5G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGN,SAAS,CAAC5C,MAAM,CAAC,CAAC;EACzE,MAAMmD,QAAQ,GAAGN,QAAQ,CAAC7G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGL,QAAQ,CAAC7C,MAAM,CAAC,CAAC;;EAEtE;EACA,IAAI5D,WAAW,GAAG,MAAM;EACxB,IAAI4G,SAAS,GAAG,EAAE,IAAIA,SAAS,IAAI,GAAG,EAAE5G,WAAW,GAAG,UAAU,CAAC,KAC5D,IAAI4G,SAAS,GAAG,GAAG,IAAIA,SAAS,IAAI,GAAG,EAAE5G,WAAW,GAAG,yBAAyB,CAAC,KACjF,IAAI4G,SAAS,GAAG,GAAG,EAAE5G,WAAW,GAAG,WAAW;EAEnD,OAAO;IACLoF,UAAU,EAAE;MACVnF,GAAG,EAAE2G,SAAS;MACdvB,QAAQ,EAAErF,WAAW;MACrBsF,UAAU,EAAE;QACVb,IAAI,EAAE7E,IAAI,CAACiH,KAAK,CAACD,SAAS,GAAG,GAAG,CAAC;QACjCxC,IAAI,EAAExE,IAAI,CAACiH,KAAK,CAACD,SAAS,GAAG,GAAG,CAAC;QACjClC,GAAG,EAAE9E,IAAI,CAACiH,KAAK,CAACD,SAAS,GAAG,GAAG,CAAC;QAChCjC,EAAE,EAAE/E,IAAI,CAACiH,KAAK,CAACD,SAAS,GAAG,IAAI;MACjC;IACF,CAAC;IACDrB,OAAO,EAAE;MACPlC,OAAO,EAAE0D,QAAQ;MACjBhH,GAAG,EAAEgH,QAAQ,GAAG,CAAC;MACjBvB,QAAQ,EAAE,CACR;QAAEzC,IAAI,EAAE,MAAM;QAAEiB,KAAK,EAAEpE,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEgH,QAAQ,GAAG,CAAC;MAAE,CAAC,EAClD;QAAEhE,IAAI,EAAE,OAAO;QAAEiB,KAAK,EAAEpE,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEgH,QAAQ,GAAG,CAAC;MAAE,CAAC,EACnD;QAAEhE,IAAI,EAAE,OAAO;QAAEiB,KAAK,EAAEpE,IAAI,CAACE,GAAG,CAAC,EAAE,EAAEiH,QAAQ,GAAG,CAAC;MAAE,CAAC,EACpD;QAAEhE,IAAI,EAAE,OAAO;QAAEiB,KAAK,EAAE+C;MAAS,CAAC,EAClC;QAAEhE,IAAI,EAAE,OAAO;QAAEiB,KAAK,EAAEpE,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEgH,QAAQ,GAAG,CAAC;MAAE,CAAC,EACnD;QAAEhE,IAAI,EAAE,OAAO;QAAEiB,KAAK,EAAEpE,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEgH,QAAQ,GAAG,CAAC;MAAE,CAAC;IAEvD,CAAC;IACD3E,MAAM,EAAE;MACNwC,KAAK,EAAE8B,YAAY,CAAC9G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGJ,YAAY,CAAC9C,MAAM,CAAC,CAAC;MACpEkB,KAAK,EAAE4B,YAAY,CAAC9G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGJ,YAAY,CAAC9C,MAAM,CAAC,CAAC;MACpEoB,KAAK,EAAE0B,YAAY,CAAC9G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGJ,YAAY,CAAC9C,MAAM,CAAC,CAAC;MACpE6B,IAAI,EAAEiB,YAAY,CAAC9G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGJ,YAAY,CAAC9C,MAAM,CAAC;IACpE,CAAC;IACD8B,WAAW,EAAE;MACXrC,OAAO,EAAEsD,KAAK,CAAC/G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGH,KAAK,CAAC/C,MAAM,CAAC,CAAC;MACxD+B,SAAS,EAAEgB,KAAK,CAAC/G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGH,KAAK,CAAC/C,MAAM,CAAC,CAAC;MAC1DgC,UAAU,EAAEoB,KAAK,CAACC,IAAI,CAAC;QAAErD,MAAM,EAAE;MAAE,CAAC,EAAE,MACpC+C,KAAK,CAAC/G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGH,KAAK,CAAC/C,MAAM,CAAC,CAChD,CAAC;MACD4B,QAAQ,EAAEwB,KAAK,CAACC,IAAI,CAAC;QAAErD,MAAM,EAAE;MAAE,CAAC,EAAE,MAClC+C,KAAK,CAAC/G,IAAI,CAACiH,KAAK,CAACjH,IAAI,CAACkH,MAAM,CAAC,CAAC,GAAGH,KAAK,CAAC/C,MAAM,CAAC,CAChD;IACF,CAAC;IACDiC,IAAI,EAAE,CACJ;MAAES,IAAI,EAAE,WAAW;MAAEC,QAAQ,EAAE,QAAQ;MAAEL,OAAO,EAAE;IAAoC,CAAC,EACvF;MAAEI,IAAI,EAAE,SAAS;MAAEC,QAAQ,EAAE,KAAK;MAAEL,OAAO,EAAE;IAAoC,CAAC;EAEtF,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMgB,WAAW,GAAIjH,GAAG,IAAK;EAClC,IAAIA,GAAG,IAAI,EAAE,EAAE,OAAO;IAAEkH,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAO,CAAC;EACvE,IAAIpH,GAAG,IAAI,GAAG,EAAE,OAAO;IAAEkH,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAW,CAAC;EAC5E,IAAIpH,GAAG,IAAI,GAAG,EAAE,OAAO;IAAEkH,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE,SAAS;IAAEC,IAAI,EAAE;EAA0B,CAAC;EAC3F,IAAIpH,GAAG,IAAI,GAAG,EAAE,OAAO;IAAEkH,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAY,CAAC;EAC7E,IAAIpH,GAAG,IAAI,GAAG,EAAE,OAAO;IAAEkH,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAiB,CAAC;EAClF,OAAO;IAAEF,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE,SAAS;IAAEC,IAAI,EAAE;EAAY,CAAC;AAC/D,CAAC;;AAED;AACA,OAAO,MAAMC,SAAS,GAAIC,EAAE,IAAK;EAC/B,IAAIA,EAAE,IAAI,CAAC,EAAE,OAAO;IAAEF,IAAI,EAAE,KAAK;IAAEF,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE;EAAU,CAAC;EACpE,IAAIG,EAAE,IAAI,CAAC,EAAE,OAAO;IAAEF,IAAI,EAAE,UAAU;IAAEF,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE;EAAU,CAAC;EACzE,IAAIG,EAAE,IAAI,CAAC,EAAE,OAAO;IAAEF,IAAI,EAAE,MAAM;IAAEF,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE;EAAU,CAAC;EACrE,IAAIG,EAAE,IAAI,EAAE,EAAE,OAAO;IAAEF,IAAI,EAAE,WAAW;IAAEF,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE;EAAU,CAAC;EAC3E,OAAO;IAAEC,IAAI,EAAE,SAAS;IAAEF,KAAK,EAAE,SAAS;IAAEC,EAAE,EAAE;EAAU,CAAC;AAC7D,CAAC;;AAED;AACA,OAAO,MAAMI,cAAc,GAAIxD,KAAK,IAAK;EACvC,IAAIA,KAAK,IAAI,CAAC,EAAE,OAAO;IAAEyD,KAAK,EAAE,KAAK;IAAEN,KAAK,EAAE;EAAU,CAAC;EACzD,IAAInD,KAAK,IAAI,CAAC,EAAE,OAAO;IAAEyD,KAAK,EAAE,UAAU;IAAEN,KAAK,EAAE;EAAU,CAAC;EAC9D,IAAInD,KAAK,IAAI,CAAC,EAAE,OAAO;IAAEyD,KAAK,EAAE,MAAM;IAAEN,KAAK,EAAE;EAAU,CAAC;EAC1D,OAAO;IAAEM,KAAK,EAAE,WAAW;IAAEN,KAAK,EAAE;EAAU,CAAC;AACjD,CAAC;;AAED;AACA,OAAO,MAAMO,UAAU,GAAIpB,IAAI,IAAK;EAClC,MAAMqB,KAAK,GAAG;IACZC,SAAS,EAAE,IAAI;IACfC,GAAG,EAAE,IAAI;IACTC,IAAI,EAAE,IAAI;IACVC,MAAM,EAAE,IAAI;IACZC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE;EACX,CAAC;EACD,OAAOP,KAAK,CAACrB,IAAI,CAAC,IAAI,IAAI;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}