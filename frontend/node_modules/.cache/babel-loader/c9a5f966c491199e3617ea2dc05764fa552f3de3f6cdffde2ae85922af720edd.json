{"ast":null,"code":"// Live weather service using Open-Meteo (same API family used by traveler)\n// No API key required\n\nasync function geocodeCity(cityName) {\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(cityName)}&count=1&language=en`;\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), 5000);\n  const res = await fetch(url, {\n    signal: controller.signal\n  });\n  clearTimeout(timeoutId);\n  if (!res.ok) throw new Error('Failed to find location');\n  const data = await res.json();\n  const place = data.results && data.results[0];\n  if (!place) throw new Error(`City \"${cityName}\" not found`);\n  return {\n    lat: place.latitude,\n    lon: place.longitude,\n    name: place.name\n  };\n}\nfunction mapWeatherCodeToCondition(code) {\n  const codes = {\n    0: 'sunny',\n    1: 'partly-cloudy',\n    2: 'partly-cloudy',\n    3: 'cloudy',\n    45: 'cloudy',\n    48: 'cloudy',\n    51: 'rainy',\n    53: 'rainy',\n    55: 'rainy',\n    56: 'rainy',\n    57: 'rainy',\n    61: 'rainy',\n    63: 'rainy',\n    65: 'rainy',\n    66: 'rainy',\n    67: 'rainy',\n    71: 'cloudy',\n    73: 'cloudy',\n    75: 'cloudy',\n    77: 'cloudy',\n    80: 'rainy',\n    81: 'rainy',\n    82: 'stormy',\n    85: 'cloudy',\n    86: 'cloudy',\n    95: 'stormy',\n    96: 'stormy',\n    99: 'stormy'\n  };\n  return codes[code] || 'partly-cloudy';\n}\nfunction normalizeCurrentWeather(json, meta) {\n  const cur = json === null || json === void 0 ? void 0 : json.current;\n  const condition = mapWeatherCodeToCondition(cur === null || cur === void 0 ? void 0 : cur.weather_code);\n  return {\n    city: meta === null || meta === void 0 ? void 0 : meta.name,\n    temperature: typeof (cur === null || cur === void 0 ? void 0 : cur.temperature_2m) === 'number' ? Math.round(cur.temperature_2m) : undefined,\n    condition,\n    humidity: typeof (cur === null || cur === void 0 ? void 0 : cur.relative_humidity_2m) === 'number' ? Math.round(cur.relative_humidity_2m) : undefined,\n    windSpeed: typeof (cur === null || cur === void 0 ? void 0 : cur.wind_speed_10m) === 'number' ? Math.round(cur.wind_speed_10m) : undefined,\n    alerts: []\n  };\n}\nexport const getWeatherData = async cityName => {\n  const loc = await geocodeCity(cityName);\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${loc.lat}&longitude=${loc.lon}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&timezone=auto`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Failed to fetch weather');\n  const data = await res.json();\n  return normalizeCurrentWeather(data, {\n    name: loc.name\n  });\n};\nexport const getWeatherByCoords = async (lat, lon) => {\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&timezone=auto`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Failed to fetch weather');\n  const data = await res.json();\n  return normalizeCurrentWeather(data, {});\n};\nexport const getWeatherIcon = condition => {\n  const icons = {\n    'sunny': 'â˜€ï¸',\n    'cloudy': 'â˜ï¸',\n    'partly-cloudy': 'â›…',\n    'rainy': 'ðŸŒ§ï¸',\n    'stormy': 'â›ˆï¸'\n  };\n  return icons[condition] || 'ðŸŒ¤ï¸';\n};\nexport const getWeatherDescription = condition => {\n  const descriptions = {\n    'sunny': 'Sunny',\n    'cloudy': 'Cloudy',\n    'partly-cloudy': 'Partly Cloudy',\n    'rainy': 'Rainy',\n    'stormy': 'Stormy'\n  };\n  return descriptions[condition] || 'Unknown';\n};","map":{"version":3,"names":["geocodeCity","cityName","url","encodeURIComponent","controller","AbortController","timeoutId","setTimeout","abort","res","fetch","signal","clearTimeout","ok","Error","data","json","place","results","lat","latitude","lon","longitude","name","mapWeatherCodeToCondition","code","codes","normalizeCurrentWeather","meta","cur","current","condition","weather_code","city","temperature","temperature_2m","Math","round","undefined","humidity","relative_humidity_2m","windSpeed","wind_speed_10m","alerts","getWeatherData","loc","getWeatherByCoords","getWeatherIcon","icons","getWeatherDescription","descriptions"],"sources":["E:/full_stack/project/weatherapp/frontend/src/services/weatherService.js"],"sourcesContent":["// Live weather service using Open-Meteo (same API family used by traveler)\r\n// No API key required\r\n\r\nasync function geocodeCity(cityName) {\r\n  const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(cityName)}&count=1&language=en`;\r\n  const controller = new AbortController();\r\n  const timeoutId = setTimeout(() => controller.abort(), 5000);\r\n  const res = await fetch(url, { signal: controller.signal });\r\n  clearTimeout(timeoutId);\r\n  if (!res.ok) throw new Error('Failed to find location');\r\n  const data = await res.json();\r\n  const place = data.results && data.results[0];\r\n  if (!place) throw new Error(`City \"${cityName}\" not found`);\r\n  return { lat: place.latitude, lon: place.longitude, name: place.name };\r\n}\r\n\r\nfunction mapWeatherCodeToCondition(code) {\r\n  const codes = {\r\n    0: 'sunny',\r\n    1: 'partly-cloudy', 2: 'partly-cloudy', 3: 'cloudy',\r\n    45: 'cloudy', 48: 'cloudy',\r\n    51: 'rainy', 53: 'rainy', 55: 'rainy',\r\n    56: 'rainy', 57: 'rainy',\r\n    61: 'rainy', 63: 'rainy', 65: 'rainy',\r\n    66: 'rainy', 67: 'rainy',\r\n    71: 'cloudy', 73: 'cloudy', 75: 'cloudy', 77: 'cloudy',\r\n    80: 'rainy', 81: 'rainy', 82: 'stormy',\r\n    85: 'cloudy', 86: 'cloudy',\r\n    95: 'stormy', 96: 'stormy', 99: 'stormy'\r\n  };\r\n  return codes[code] || 'partly-cloudy';\r\n}\r\n\r\nfunction normalizeCurrentWeather(json, meta) {\r\n  const cur = json?.current;\r\n  const condition = mapWeatherCodeToCondition(cur?.weather_code);\r\n  return {\r\n    city: meta?.name,\r\n    temperature: typeof cur?.temperature_2m === 'number' ? Math.round(cur.temperature_2m) : undefined,\r\n    condition,\r\n    humidity: typeof cur?.relative_humidity_2m === 'number' ? Math.round(cur.relative_humidity_2m) : undefined,\r\n    windSpeed: typeof cur?.wind_speed_10m === 'number' ? Math.round(cur.wind_speed_10m) : undefined,\r\n    alerts: []\r\n  };\r\n}\r\n\r\nexport const getWeatherData = async (cityName) => {\r\n  const loc = await geocodeCity(cityName);\r\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${loc.lat}&longitude=${loc.lon}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&timezone=auto`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Failed to fetch weather');\r\n  const data = await res.json();\r\n  return normalizeCurrentWeather(data, { name: loc.name });\r\n};\r\n\r\nexport const getWeatherByCoords = async (lat, lon) => {\r\n  const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&timezone=auto`;\r\n  const res = await fetch(url);\r\n  if (!res.ok) throw new Error('Failed to fetch weather');\r\n  const data = await res.json();\r\n  return normalizeCurrentWeather(data, {});\r\n};\r\n\r\nexport const getWeatherIcon = (condition) => {\r\n  const icons = {\r\n    'sunny': 'â˜€ï¸',\r\n    'cloudy': 'â˜ï¸',\r\n    'partly-cloudy': 'â›…',\r\n    'rainy': 'ðŸŒ§ï¸',\r\n    'stormy': 'â›ˆï¸'\r\n  };\r\n  return icons[condition] || 'ðŸŒ¤ï¸';\r\n};\r\n\r\nexport const getWeatherDescription = (condition) => {\r\n  const descriptions = {\r\n    'sunny': 'Sunny',\r\n    'cloudy': 'Cloudy',\r\n    'partly-cloudy': 'Partly Cloudy',\r\n    'rainy': 'Rainy',\r\n    'stormy': 'Stormy'\r\n  };\r\n  return descriptions[condition] || 'Unknown';\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}