{"ast":null,"code":"// Trip Weather Alert Service\n// Checks saved trips and generates weather alerts one day before trip start date\n\nimport { getWeatherForecast } from './weatherForecastService';\nconst ALERTS_STORAGE_KEY = 'tripWeatherAlerts';\nconst LAST_CHECK_STORAGE_KEY = 'lastTripCheck';\n\n/**\r\n * Check for upcoming trips and generate weather alerts\r\n */\nexport const checkUpcomingTrips = async () => {\n  try {\n    const savedTrips = JSON.parse(localStorage.getItem('savedTrips') || '[]');\n    const alerts = JSON.parse(localStorage.getItem(ALERTS_STORAGE_KEY) || '[]');\n    const lastCheck = localStorage.getItem(LAST_CHECK_STORAGE_KEY);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    // Only check once per day\n    if (lastCheck === today.toISOString().split('T')[0]) {\n      return alerts;\n    }\n    const newAlerts = [];\n    for (const trip of savedTrips) {\n      // Skip if alert already sent\n      if (trip.weatherAlertSent) continue;\n      const tripStartDate = new Date(trip.startDate);\n      tripStartDate.setHours(0, 0, 0, 0);\n\n      // Check if trip starts tomorrow\n      if (tripStartDate.getTime() === tomorrow.getTime()) {\n        try {\n          // Fetch latest weather forecast\n          const forecast = await getWeatherForecast(trip.destination, 7);\n\n          // Generate weather summary\n          const currentDay = forecast.dailyForecast[0];\n          const condition = getWeatherConditionEmoji(currentDay.condition);\n          const tempRange = `${currentDay.minTemp}Â°C - ${currentDay.maxTemp}Â°C`;\n          const summary = generateWeatherSummary(forecast, trip);\n\n          // Create alert\n          const alert = {\n            id: `trip-${trip.id}-${Date.now()}`,\n            tripId: trip.id,\n            destination: trip.destination,\n            country: trip.country || '',\n            startDate: trip.startDate,\n            temperature: currentDay.maxTemp,\n            condition: currentDay.condition,\n            summary,\n            forecast: currentDay,\n            createdAt: new Date().toISOString(),\n            read: false,\n            type: 'trip_reminder'\n          };\n          newAlerts.push(alert);\n\n          // Mark trip as alert sent\n          trip.weatherAlertSent = true;\n        } catch (error) {\n          console.error(`Failed to fetch weather for ${trip.destination}:`, error);\n          // Create alert without weather data\n          const alert = {\n            id: `trip-${trip.id}-${Date.now()}`,\n            tripId: trip.id,\n            destination: trip.destination,\n            country: trip.country || '',\n            startDate: trip.startDate,\n            summary: `Your trip to ${trip.destination} starts tomorrow! Weather forecast unavailable.`,\n            createdAt: new Date().toISOString(),\n            read: false,\n            type: 'trip_reminder',\n            error: true\n          };\n          newAlerts.push(alert);\n        }\n      }\n    }\n\n    // Update saved trips with alert sent status\n    if (newAlerts.length > 0) {\n      localStorage.setItem('savedTrips', JSON.stringify(savedTrips));\n    }\n\n    // Save new alerts\n    const allAlerts = [...alerts, ...newAlerts].sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(allAlerts));\n\n    // Update last check date\n    localStorage.setItem(LAST_CHECK_STORAGE_KEY, today.toISOString().split('T')[0]);\n    return allAlerts;\n  } catch (error) {\n    console.error('Error checking upcoming trips:', error);\n    return JSON.parse(localStorage.getItem(ALERTS_STORAGE_KEY) || '[]');\n  }\n};\n\n/**\r\n * Get weather condition emoji\r\n */\nfunction getWeatherConditionEmoji(condition) {\n  const emojis = {\n    sunny: 'â˜€ï¸',\n    'partly-cloudy': 'â›…',\n    cloudy: 'â˜ï¸',\n    rainy: 'ðŸŒ§ï¸',\n    stormy: 'â›ˆï¸'\n  };\n  return emojis[condition] || 'ðŸŒ¤ï¸';\n}\n\n/**\r\n * Generate weather summary for alert\r\n */\nfunction generateWeatherSummary(forecast, trip) {\n  const currentDay = forecast.dailyForecast[0];\n  const conditionEmoji = getWeatherConditionEmoji(currentDay.condition);\n  const conditionText = currentDay.condition.charAt(0).toUpperCase() + currentDay.condition.slice(1).replace('-', ' ');\n  const tempText = currentDay.maxTemp === currentDay.minTemp ? `${currentDay.maxTemp}Â°C` : `${currentDay.minTemp}Â°C - ${currentDay.maxTemp}Â°C`;\n  let recommendation = '';\n  if (currentDay.condition === 'sunny' || currentDay.condition === 'partly-cloudy') {\n    recommendation = 'Perfect weather for sightseeing!';\n  } else if (currentDay.condition === 'rainy') {\n    recommendation = 'Pack an umbrella!';\n  } else if (currentDay.condition === 'stormy') {\n    recommendation = 'Consider indoor activities.';\n  } else {\n    recommendation = 'Weather conditions are moderate.';\n  }\n  return `${conditionEmoji} Tomorrow in ${trip.destination}: ${tempText}, ${conditionText.toLowerCase()}. ${recommendation}`;\n}\n\n/**\r\n * Get all alerts\r\n */\nexport const getAlerts = () => {\n  return JSON.parse(localStorage.getItem(ALERTS_STORAGE_KEY) || '[]');\n};\n\n/**\r\n * Get unread alerts count\r\n */\nexport const getUnreadAlertsCount = () => {\n  const alerts = getAlerts();\n  return alerts.filter(alert => !alert.read).length;\n};\n\n/**\r\n * Mark alert as read\r\n */\nexport const markAlertAsRead = alertId => {\n  const alerts = getAlerts();\n  const updatedAlerts = alerts.map(alert => alert.id === alertId ? {\n    ...alert,\n    read: true\n  } : alert);\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(updatedAlerts));\n  return updatedAlerts;\n};\n\n/**\r\n * Mark all alerts as read\r\n */\nexport const markAllAlertsAsRead = () => {\n  const alerts = getAlerts();\n  const updatedAlerts = alerts.map(alert => ({\n    ...alert,\n    read: true\n  }));\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(updatedAlerts));\n  return updatedAlerts;\n};\n\n/**\r\n * Delete alert\r\n */\nexport const deleteAlert = alertId => {\n  const alerts = getAlerts();\n  const updatedAlerts = alerts.filter(alert => alert.id !== alertId);\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(updatedAlerts));\n  return updatedAlerts;\n};\n\n/**\r\n * Delete all alerts\r\n */\nexport const deleteAllAlerts = () => {\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify([]));\n  return [];\n};","map":{"version":3,"names":["getWeatherForecast","ALERTS_STORAGE_KEY","LAST_CHECK_STORAGE_KEY","checkUpcomingTrips","savedTrips","JSON","parse","localStorage","getItem","alerts","lastCheck","today","Date","setHours","tomorrow","setDate","getDate","toISOString","split","newAlerts","trip","weatherAlertSent","tripStartDate","startDate","getTime","forecast","destination","currentDay","dailyForecast","condition","getWeatherConditionEmoji","tempRange","minTemp","maxTemp","summary","generateWeatherSummary","alert","id","now","tripId","country","temperature","createdAt","read","type","push","error","console","length","setItem","stringify","allAlerts","sort","a","b","emojis","sunny","cloudy","rainy","stormy","conditionEmoji","conditionText","charAt","toUpperCase","slice","replace","tempText","recommendation","toLowerCase","getAlerts","getUnreadAlertsCount","filter","markAlertAsRead","alertId","updatedAlerts","map","markAllAlertsAsRead","deleteAlert","deleteAllAlerts"],"sources":["E:/full_stack/project/weatherapp/frontend/src/services/tripAlertService.js"],"sourcesContent":["// Trip Weather Alert Service\r\n// Checks saved trips and generates weather alerts one day before trip start date\r\n\r\nimport { getWeatherForecast } from './weatherForecastService';\r\n\r\nconst ALERTS_STORAGE_KEY = 'tripWeatherAlerts';\r\nconst LAST_CHECK_STORAGE_KEY = 'lastTripCheck';\r\n\r\n/**\r\n * Check for upcoming trips and generate weather alerts\r\n */\r\nexport const checkUpcomingTrips = async () => {\r\n  try {\r\n    const savedTrips = JSON.parse(localStorage.getItem('savedTrips') || '[]');\r\n    const alerts = JSON.parse(localStorage.getItem(ALERTS_STORAGE_KEY) || '[]');\r\n    const lastCheck = localStorage.getItem(LAST_CHECK_STORAGE_KEY);\r\n    \r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    const tomorrow = new Date(today);\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    \r\n    // Only check once per day\r\n    if (lastCheck === today.toISOString().split('T')[0]) {\r\n      return alerts;\r\n    }\r\n    \r\n    const newAlerts = [];\r\n    \r\n    for (const trip of savedTrips) {\r\n      // Skip if alert already sent\r\n      if (trip.weatherAlertSent) continue;\r\n      \r\n      const tripStartDate = new Date(trip.startDate);\r\n      tripStartDate.setHours(0, 0, 0, 0);\r\n      \r\n      // Check if trip starts tomorrow\r\n      if (tripStartDate.getTime() === tomorrow.getTime()) {\r\n        try {\r\n          // Fetch latest weather forecast\r\n          const forecast = await getWeatherForecast(trip.destination, 7);\r\n          \r\n          // Generate weather summary\r\n          const currentDay = forecast.dailyForecast[0];\r\n          const condition = getWeatherConditionEmoji(currentDay.condition);\r\n          const tempRange = `${currentDay.minTemp}Â°C - ${currentDay.maxTemp}Â°C`;\r\n          const summary = generateWeatherSummary(forecast, trip);\r\n          \r\n          // Create alert\r\n          const alert = {\r\n            id: `trip-${trip.id}-${Date.now()}`,\r\n            tripId: trip.id,\r\n            destination: trip.destination,\r\n            country: trip.country || '',\r\n            startDate: trip.startDate,\r\n            temperature: currentDay.maxTemp,\r\n            condition: currentDay.condition,\r\n            summary,\r\n            forecast: currentDay,\r\n            createdAt: new Date().toISOString(),\r\n            read: false,\r\n            type: 'trip_reminder'\r\n          };\r\n          \r\n          newAlerts.push(alert);\r\n          \r\n          // Mark trip as alert sent\r\n          trip.weatherAlertSent = true;\r\n          \r\n        } catch (error) {\r\n          console.error(`Failed to fetch weather for ${trip.destination}:`, error);\r\n          // Create alert without weather data\r\n          const alert = {\r\n            id: `trip-${trip.id}-${Date.now()}`,\r\n            tripId: trip.id,\r\n            destination: trip.destination,\r\n            country: trip.country || '',\r\n            startDate: trip.startDate,\r\n            summary: `Your trip to ${trip.destination} starts tomorrow! Weather forecast unavailable.`,\r\n            createdAt: new Date().toISOString(),\r\n            read: false,\r\n            type: 'trip_reminder',\r\n            error: true\r\n          };\r\n          newAlerts.push(alert);\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Update saved trips with alert sent status\r\n    if (newAlerts.length > 0) {\r\n      localStorage.setItem('savedTrips', JSON.stringify(savedTrips));\r\n    }\r\n    \r\n    // Save new alerts\r\n    const allAlerts = [...alerts, ...newAlerts].sort((a, b) => \r\n      new Date(b.createdAt) - new Date(a.createdAt)\r\n    );\r\n    localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(allAlerts));\r\n    \r\n    // Update last check date\r\n    localStorage.setItem(LAST_CHECK_STORAGE_KEY, today.toISOString().split('T')[0]);\r\n    \r\n    return allAlerts;\r\n  } catch (error) {\r\n    console.error('Error checking upcoming trips:', error);\r\n    return JSON.parse(localStorage.getItem(ALERTS_STORAGE_KEY) || '[]');\r\n  }\r\n};\r\n\r\n/**\r\n * Get weather condition emoji\r\n */\r\nfunction getWeatherConditionEmoji(condition) {\r\n  const emojis = {\r\n    sunny: 'â˜€ï¸',\r\n    'partly-cloudy': 'â›…',\r\n    cloudy: 'â˜ï¸',\r\n    rainy: 'ðŸŒ§ï¸',\r\n    stormy: 'â›ˆï¸'\r\n  };\r\n  return emojis[condition] || 'ðŸŒ¤ï¸';\r\n}\r\n\r\n/**\r\n * Generate weather summary for alert\r\n */\r\nfunction generateWeatherSummary(forecast, trip) {\r\n  const currentDay = forecast.dailyForecast[0];\r\n  const conditionEmoji = getWeatherConditionEmoji(currentDay.condition);\r\n  const conditionText = currentDay.condition.charAt(0).toUpperCase() + currentDay.condition.slice(1).replace('-', ' ');\r\n  \r\n  const tempText = currentDay.maxTemp === currentDay.minTemp \r\n    ? `${currentDay.maxTemp}Â°C` \r\n    : `${currentDay.minTemp}Â°C - ${currentDay.maxTemp}Â°C`;\r\n  \r\n  let recommendation = '';\r\n  if (currentDay.condition === 'sunny' || currentDay.condition === 'partly-cloudy') {\r\n    recommendation = 'Perfect weather for sightseeing!';\r\n  } else if (currentDay.condition === 'rainy') {\r\n    recommendation = 'Pack an umbrella!';\r\n  } else if (currentDay.condition === 'stormy') {\r\n    recommendation = 'Consider indoor activities.';\r\n  } else {\r\n    recommendation = 'Weather conditions are moderate.';\r\n  }\r\n  \r\n  return `${conditionEmoji} Tomorrow in ${trip.destination}: ${tempText}, ${conditionText.toLowerCase()}. ${recommendation}`;\r\n}\r\n\r\n/**\r\n * Get all alerts\r\n */\r\nexport const getAlerts = () => {\r\n  return JSON.parse(localStorage.getItem(ALERTS_STORAGE_KEY) || '[]');\r\n};\r\n\r\n/**\r\n * Get unread alerts count\r\n */\r\nexport const getUnreadAlertsCount = () => {\r\n  const alerts = getAlerts();\r\n  return alerts.filter(alert => !alert.read).length;\r\n};\r\n\r\n/**\r\n * Mark alert as read\r\n */\r\nexport const markAlertAsRead = (alertId) => {\r\n  const alerts = getAlerts();\r\n  const updatedAlerts = alerts.map(alert => \r\n    alert.id === alertId ? { ...alert, read: true } : alert\r\n  );\r\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(updatedAlerts));\r\n  return updatedAlerts;\r\n};\r\n\r\n/**\r\n * Mark all alerts as read\r\n */\r\nexport const markAllAlertsAsRead = () => {\r\n  const alerts = getAlerts();\r\n  const updatedAlerts = alerts.map(alert => ({ ...alert, read: true }));\r\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(updatedAlerts));\r\n  return updatedAlerts;\r\n};\r\n\r\n/**\r\n * Delete alert\r\n */\r\nexport const deleteAlert = (alertId) => {\r\n  const alerts = getAlerts();\r\n  const updatedAlerts = alerts.filter(alert => alert.id !== alertId);\r\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify(updatedAlerts));\r\n  return updatedAlerts;\r\n};\r\n\r\n/**\r\n * Delete all alerts\r\n */\r\nexport const deleteAllAlerts = () => {\r\n  localStorage.setItem(ALERTS_STORAGE_KEY, JSON.stringify([]));\r\n  return [];\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}